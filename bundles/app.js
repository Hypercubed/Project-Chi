"bundle";System.register("components/app.css!github:systemjs/plugin-css@0.1.23.js",[],function(){return{setters:[],execute:function(){}}}),System.register("components/fantom5/index.js",["common/styles/index.css!"],function(a){"use strict";function b(a){this.dataPackage.resources.forEach(function(b){a.normalizePackage(b.url,b.data)})}return{setters:[function(a){}],execute:function(){b.$inject=["dataService"],a("default",{controller:b,templateUrl:"components/fantom5/index.html",bindings:{dataPackage:"<package"}})}}}),System.register("components/fantom5/Lizio_et_al_2015/timeCourse.css!github:systemjs/plugin-css@0.1.23.js",[],function(){return{setters:[],execute:function(){}}}),function(){var a=System.amdDefine;(function(){"use strict";function b(a,b){Object.keys(a).forEach(function(c){b(a[c],c)})}function c(a,c){return b(c,function(b,c){a[c]=b}),a}function d(a){return a}function e(a){return void 0!==a&&null!==a}function f(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function g(a,b){return b<a?-1:b>a?1:b>=a?0:NaN}function h(a){return function(){return a.apply(this,arguments)}}function i(a){var b=Array.prototype.slice.call(arguments,1);return function(){for(var c=0,d=b.slice();c<arguments.length;)d.push(arguments[c++]);return a.apply(this,d)}}function j(a){if(!e(a))return d;if("function"==typeof a)return h(a);if("$index"===a)return function(a,b){return b};if("$this"===a)return function(){return this};if("number"==typeof a)return function(b){return e(b)?b[a]:void 0};if("string"==typeof a&&a.indexOf(".")===-1)return function(b){return e(b)?b[a]:void 0};var b=Array.isArray(a)?a:a.split("."),c=j(b.shift()),f=j(b.join("."));return k(f,c)}function k(a,b){return function(c,d,e){return a.call(this,b.apply(this,arguments),d,c)}}function l(a){return function(){var b=Array.prototype.slice.call(arguments,0);return function(c){return a.apply(this,[c].concat(b))}}}function m(a){return function(b,c){return function(d,e,f){return!!a.call(this,b,c,d,e,f)}}}function n(a,b){var d,e=j(a);return d="function"==typeof b?k(b,e):e,d.key=a,d.accessor=void 0!==a&&null!==a?e:void 0,c(d,o),d}var o={},p={eq:function(a,b){return a==b},is:function(a,b){return a===b},neq:function(a,b){return a!==b},lt:function(a,b){return a<b},gt:function(a,b){return a>b},lte:function(a,b){return a<=b},gte:function(a,b){return a>=b},between:function(a,b,c){return a>b&&a<c},exists:function(a){return void 0!==a&&null!==a},typeof:function(a,b){return typeof a===b},match:function(a,b){return b instanceof RegExp?b.test(String(a)):new RegExp(b).test(String(a))},in:function(a,b){return Array.isArray(b)?b.indexOf(a)>-1:String(b).indexOf(String(a))>-1},has:function(a,b){return Array.isArray(a)?a.indexOf(b)>-1:String(a).indexOf(String(b))>-1}},q={and:function(a,b,c,d,e){return a.call(this,e,d)&&b.call(this,e,d)},or:function(a,b,c,d,e){return a.call(this,e,d)||b.call(this,e,d)},not:function(a,b,c,d,e){return!b.call(this,e,d)}};o.factory=function(a){return n(this.accessor,a)},o._factory=function(a){return a.hasOwnProperty("accessor")&&void 0===a.accessor?this.factory(a):a},o.compose=i(k,o.factory),o.partial=function(){var a=i.apply(this,arguments);return i(a,this)},o.wrap=function(a){var b=k(this.partial.apply(this,arguments),this._factory);return this.compose(b)},o.chain=function(a){return function(){var c=this,d=this.wrap(a);if(arguments.length<1){var e={};return b(p,function(a,b){e[b]=k(d,c[b]).bind(c)}),e}return d.apply(this,arguments)}},o.order=function(a){var b=this;return arguments.length<1?{asc:o.order.call(b,f),desc:o.order.call(b,g)}:function(c,d){return a(b(c),b(d))}},b(p,function(a,b){o[b]=k(o.factory,l(a))}),b(q,function(a,b){o[b]=o.chain(m(a))}),"undefined"!=typeof module&&"object"==typeof exports?module.exports=n:"function"==typeof a&&a.amd?a("github:Hypercubed/_F@0.0.11/_F.js",[],function(){return n}):this._F=n}).call(function(){return this||("undefined"!=typeof window?window:global)}()),function(){Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e})}()}(),function(){var a=System.amdDefine;a("github:Hypercubed/_F@0.0.11.js",["github:Hypercubed/_F@0.0.11/_F.js"],function(a){return a})}(),System.register("components/fantom5/Lizio_et_al_2015/timeCourse-chart.js",["_F","d3-svg-legend"],function(a){"use strict";function b(){function a(a){a.each(function(a){var x=g(a[0]),y=e.nest().key(i).key(k).sortValues(t).entries(a),z=[];y.forEach(function(a){var b=a.values.map(function(a){return a[l.key]=l(a.values[0]).trim(),a[k.key]=k(a.values[0]),a[k.key]});a.id=j(a.values[0].values[0]),a.species=m(a.values[0].values[0]),a.timeRange=e.extent(b),z=z.concat(b)}),y=y.sort(s),q=c*y.length;var A=e.select(this).append("svg").attr("title",x).attr("width",b+r.left+r.right).attr("height",q+r.top+r.bottom).append("g").attr("transform","translate("+r.left+","+r.top+")");A.append("g").append("text").attr("dy",-0).attr("dx",b/2).style("text-anchor","middle").attr("class","title").text(x);var B,C=e.extent(a,k),D=C[1],E="mins",F=1,G=e.svg.axis();"Early response"===x?(B=e.scale.log().clamp(!0).domain([1,D]).range([0,b]),z.push(1e3,1e4),z=z.sort(e.ascending),G.scale(B).tickValues(z).tickFormat(function(a){return 0===a?"0:00":a<60?"0:"+a:(a=e.round(a/60,2),1===a?a+"hr":a<=5?a%1===0?a:"":a<=5?a%1===0?a:"":a<72?a%12===0?a:"":(a/=24,4===a?a+"days":28===a?a+"days":a%2===0?a:""))})):"Development"===x?(F=1/60/24,E="days",B=e.scale.linear().domain(C).range([0,b]),G.scale(B).tickValues(z).tickFormat(function(a,b){var c=e.round(a*F,2);return c<0?b%2===0?"E"+(c+20):"":"N"+c})):(D>100&&(F=1/60,E="hrs"),D>1e4&&(F=1/60/24,E="days"),B=e.scale.linear().domain([0,D]).range([0,b]),G.scale(B).tickValues(z).tickFormat(function(a){var b=e.round(a*F,2);return a===D?b+E:b%2!==0?"":b})),A.append("g").attr("transform","translate(0,"+(q+r.bottom/2)+")").call(G);var H=A.selectAll(".sample").data(y).enter().append("g").attr("transform",function(a,b){return"translate(0,"+c*b+")"}).attr("class",function(a){return"sample "+m(a.values[0].values[0])});H.append("a").attr("xlink:href",u).attr("class","sample-name").append("text").style("text-anchor","end").attr("dy",c).attr("dx",-10).text(o),H.append("g").attr("transform",function(){return"translate(0,"+c+")"}),H.append("line").attr("class","sample-axis").attr("y1",c).attr("y2",c).attr("x2",b),H.append("line").attr("class","sample-range").attr("y1",c).attr("y2",c).attr("x1",function(a){return B(a.timeRange[0])}).attr("x2",function(a){return B(a.timeRange[1])}).style("stroke",function(a){return w(m(a.values[0].values[0]))});var I=H.selectAll(".point").data(p).enter().append("g").attr("class",function(a){return"point "+m(a)}),J=I.selectAll("a").data(p).enter().append("a").attr("xlink:href",v).append("circle").attr("r",d).attr("cx",function(a){return B(+k(a))}).attr("cy",function(a,b){return c-b*f}).style("fill",function(a){return w(m(a))});J.append("title").text(function(a){return h(a)+" "+n(a)+" @"+a["Time Desc"]}),I.on("mouseenter",function(a){var b=a.values.length-1,f=300;e.select(this).selectAll("circle").transition().duration(f).attr("r",1.5*d).attr("cy",function(a,e){return c-2.5*(b-e)*d})}),I.on("mouseleave",function(){e.select(this).selectAll("circle").transition().duration(500).attr("r",d).attr("cy",function(a,b){return c-b*f})})})}var b=500,c=20,d=3.5,f=0,q=900,r={top:0,right:200,bottom:40,left:200},w=e.scale.category10();return a.color=function(b){return arguments.length<1?w:(w=b,a)},a.width=function(c){return arguments.length<1?b:(b=c,a)},a.margin=function(b){return arguments.length<1?r:(r=b,a)},a}function c(a){var c=e.nest().key(g).sortKeys(e.ascending).entries(a),d=e.scale.category10().domain(["Human","Mouse"]),f=800,h=(new b).color(d).width(f).margin({top:60,right:200,bottom:40,left:200}),i=e.select(this).selectAll(".series").data(c).enter().append("div").attr("class","series");i.append("div").datum(p).call(h);var j=e.select("svg");j.append("g").attr("class","legendOrdinal").attr("transform","translate("+(f+230)+",35)");var k=e.legend.color().shapePadding(10).scale(d).shapeWidth(20).shapeHeight(20);k.on("cellover",function(a){e.selectAll("svg").classed("hover hover-"+a,!0)}),k.on("cellout",function(a){e.selectAll("svg").classed("hover hover-"+a,!1)}),j.select(".legendOrdinal").call(k)}var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;return a("drawChart",c),{setters:[function(a){d=a.default},function(a){e=a.default}],execute:function(){f="http://fantom.gsc.riken.jp/5/sstar/",g=d("Series"),h=d("Sample"),i=d("Time Course"),j=d("Time Course Id"),k=d("Time",Number),l=d("Time Desc"),m=d("Species"),n=d("Donor"),o=d("key"),p=d("values"),q=k.order().asc,r=n.order().desc,s=d("timeRange.1").order(e.descending),t=function(a,b){return q(a,b)||r(a,b)},u=function(a){return f+a.id},v=function(a){return f+"FF:"+h(a)}}}}),System.register("components/fantom5/Lizio_et_al_2015/timeCourse.js",["npm:babel-runtime@5.8.38/helpers/create-class.js","npm:babel-runtime@5.8.38/helpers/class-call-check.js","./timeCourse.css!","./timeCourse-chart"],function(a){var b,c,d,e;return{setters:[function(a){b=a.default},function(a){c=a.default},function(a){},function(a){d=a.drawChart}],execute:function(){"use strict";e=function(){function a(){var b=this;c(this,a),this.editorOptions={data:this.dataPackage,enableOpen:!1,enableProtected:!0,onChange:function(){return b.change()}}}return b(a,[{key:"change",value:function(){var a=this.dataPackage.resources.filter(function(a){return!!a.data}).map(function(a){return a.data}),b=d3.select("#_fantom5_Lizio_et_al_2015__chart");b.selectAll("div").remove();var c=b.selectAll("div").data(a);c.enter().append("div"),c.each(d)}},{key:"$onInit",value:function(){this.change()}}]),a}(),a("default",{controller:e,templateUrl:"components/fantom5/Lizio_et_al_2015/timeCourse.html",bindings:{dataPackage:"<package"}})}}}),System.register("components/fantom5/Motakis_et_al_2013/scatter.css!github:systemjs/plugin-css@0.1.23.js",[],function(){return{setters:[],execute:function(){}}}),System.register("components/fantom5/Motakis_et_al_2013/d3-scatter.js",["d3-svg-legend","d3-tip","d3-tip/examples/example-styles.css!"],function(a){"use strict";var b,c,d,e,f;return{setters:[function(a){b=a.default},function(a){c=a.default},function(a){}],execute:function(){d=!1,e={charts:{}},e.debug=function(a){return arguments.length?(d=a,d&&console.log("In debugging mode."),window.riken):d},e.debug(!1),f={animated:!0,showLegend:!0,showTooltips:!0,margin:{top:20,right:20,bottom:20,left:20},width:900,height:500,tooltipStyle:{position:"absolute","z-index":10,visibility:"hidden",color:"white","font-size":"14px",background:"rgba(0, 0, 0, 0.5)",padding:"5px 10px 5px 10px","-moz-border-radius":"5px 5px","border-radius":"5px 5px"}},e.charts.scatterChart=function(){function a(a){a.each(function(a){function c(){h.domain(b.extent(a,v)).nice(),i.domain(b.extent(a,w)).nice(),y.text(F[H]),C.text(G[I]),u.select(".x").transition().duration(750).call(p),u.select(".y").transition().duration(750).call(t),(o?J.transition().duration(750):J).attr("transform",z)}var f=b.select(this);f.style("position","relative"),d&&console.log("Processing data..."),a.forEach(function(a){F.forEach(function(b){a[b]=+a[b]}),G.forEach(function(b){a[b]=+a[b]})});var j=e,k=g;this.clientWidth&&this.clientHeight&&(d&&console.log("client width"),j=this.clientWidth,k=this.clientHeight,e=j-n.right-n.left,g=k-n.top-n.bottom,h=b.scale.linear().range([0,e]),i=b.scale.linear().range([g,0])),h.domain(b.extent(a,v)).nice(),i.domain(b.extent(a,w)).nice(),d&&console.log("Drawing scatterplot...");var p=b.svg.axis().scale(h).orient("bottom"),t=b.svg.axis().scale(i).orient("left"),u=f.append("svg").attr("title",s).attr("width",e+n.right).attr("height",g+n.bottom).append("g").attr("transform","translate("+n.left+","+n.top+")"),x=u.append("g").attr("class","x axis").attr("transform","translate(0,"+g+")").call(p),y=x.append("text").attr("class","label").attr("x",e).attr("y",-6).style("text-anchor","end").text(F[H]),A=u.append("g").attr("class","y axis").call(t),C=A.append("text").attr("class","label").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end").text(G[I]);F.length>0&&x.on("click",function(){H=H<F.length-1?++H:0,c()}),G.length>0&&A.on("click",function(){I=I<G.length-1?++I:0,c()});var J=u.selectAll(".dot").data(a).enter().append("path").attr("class","dot").attr("transform",z).attr("d",D).style("fill",B).style("stroke","#000").style("fill-opacity",0).style("stroke-opacity",0);if((o?J.transition().duration(750).delay(function(a,b){return 30*b}):J).style("fill-opacity",1).style("stroke-opacity",1),r&&(u.call(E),J.on("mouseover",E.show).on("mouseout",E.hide)),q){var K=b.scale.ordinal().domain(m.domain()).range(m.domain().map(function(a){return b.svg.symbol().type(m(a))(a)}));u.append("g").attr("class","legendOrdinal").attr("transform","translate("+e+",0)");var L=b.legend.symbol().scale(K).shapePadding(0),M=u.select(".legendOrdinal").call(L);M.selectAll(".swatch").classed("dot",!0).attr("fill",l)}})}var e=f.width,g=f.height,h=b.scale.linear().range([0,e]),i=b.scale.linear().range([g,0]),j=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],k=["circle","cross","diamond","square","triangle-down","triangle-up"],l=b.scale.ordinal().range(j),m=b.scale.ordinal().range(k),n={top:20,right:20,bottom:20,left:20},o=!0,p=10,q=f.showLegend,r=f.showTooltips,s="Scatter Plot",t=b.format(".04f"),u=function(a){return A(a)+F.map(function(b){return"<br />"+b+": "+t(a[b])}).join("")},v=function(a){return a[F[H]]},w=function(a){return a[G[I]]},x=function(a,b){return h(v(a,b))},y=function(a,b){return i(w(a,b))},z=function(a,b){return"translate("+x(a,b)+","+y(a,b)+")"},A=function(a,b){return a.id},B=function(a,b){return l(A(a))},C=function(a,b){return m(A(a))},D=function(a,c){return b.svg.symbol().type(C(a))(a)},E=c().attr("class","d3-tip").html(u).offset([-10,0]),F=["x"],G=["y"],H=0,I=0;return a.margin=function(b){return arguments.length?(n.top="undefined"!=typeof b.top?b.top:n.top,n.right="undefined"!=typeof b.right?b.right:n.right,n.bottom="undefined"!=typeof b.bottom?b.bottom:n.bottom,n.left="undefined"!=typeof b.left?b.left:n.left,a):n},a.width=function(b){return arguments.length?(e=b,a):e},a.height=function(b){return arguments.length?(g=b,a):g},a.cellSize=function(b){return arguments.length?(p=b,a):p},a.animated=function(b){return arguments.length?(o=b,a):o},a.showLegend=function(b){return arguments.length?(q=b,a):q},a.valueFormat=function(b){return arguments.length?(t=b,a):t},a.id=function(c){return arguments.length?(A=b.functor(c),a):A},a.x=function(c){return arguments.length?(v=b.functor(c),a):v},a.y=function(c){return arguments.length?(w=b.functor(c),a):w},a.xComp=function(b){return arguments.length?(F=b,a):F},a.yComp=function(b){return arguments.length?(G=b,a):G},a.xIndex=function(b){return arguments.length?(H=b,a):H},a.yIndex=function(b){return arguments.length?(I=b,a):I},a.colors=function(b){return arguments.length?(j=b,l.range(j),a):j},a.shapes=function(b){return arguments.length?(k=b,m.range(k),a):k},a.tooltips=E,a},a("default",e)}}}),System.register("components/fantom5/Motakis_et_al_2013/scatter2.js",["d3","./d3-scatter"],function(a){"use strict";function b(a){var b=c.map(a[0]).keys();b.shift();var e=["red","green","green","black","blue","yellow","yellow","green","red","blue","blue","black","yellow","black","black","red","blue","yellow","black","black","red","red","red","darkred"],f=["triangle-down","circle","triangle-up","triangle-down","diamond","square","diamond","diamond","diamond","triangle-up","square","cross","circle","triangle-up","diamond","cross","circle","triangle-up","square","circle","triangle-up","square","circle","circle"],g=d.charts.scatterChart().margin({top:20,right:180,bottom:40,left:40}).id(function(a){return a.sample}).xComp(b).yComp(b).yIndex(1).colors(e).shapes(f),h=c.select(this).selectAll(".charts").data([[0,1]]),i=h.enter().append("div").attr("class","chart");i.each(function(b){c.select(this).datum(a).call(g.yIndex(b[1]).xIndex(b[0]))})}var c,d;return a("default",b),{setters:[function(a){c=a.default},function(a){d=a.default}],execute:function(){}}}),System.register("components/fantom5/Motakis_et_al_2013/scatter.js",["npm:babel-runtime@5.8.38/helpers/create-class.js","npm:babel-runtime@5.8.38/helpers/class-call-check.js","d3","./scatter.css!","./scatter2"],function(a){var b,c,d,e,f;return{setters:[function(a){b=a.default},function(a){c=a.default},function(a){d=a.default},function(a){},function(a){e=a.default}],execute:function(){"use strict";f=function(){function a(){var b=this;c(this,a),this.edit=!1,this.editorOptions={data:this.dataPackage,enableOpen:!1,enableProtected:!0,onChange:function(){return b.change()}}}return b(a,[{key:"change",value:function(){var a=this.dataPackage.resources.filter(function(a){return Boolean(a.data)}).map(function(a){return a.data}),b=d.select("#_fantom5_Motakis_et_al_2013__chart");b.selectAll("div").remove();var c=b.selectAll("div").data(a);c.enter().append("div"),c.each(e)}},{key:"$onInit",value:function(){this.change()}}]),a}(),a("default",{controller:f,templateUrl:"components/fantom5/Motakis_et_al_2013/scatter.html",bindings:{dataPackage:"<package"}})}}}),System.register("components/fantom5/Forrest_et_al_2014/venn.css!github:systemjs/plugin-css@0.1.23.js",[],function(){return{setters:[],execute:function(){}}}),function(){var a=System.amdDefine;!function(b,c){"function"==typeof a&&a.amd?a("github:Caged/d3-tip@0.6.7/index.js",["d3"],c):"object"==typeof module&&module.exports?module.exports=function(a){return a.tip=c(a),a.tip}:b.d3.tip=c(b.d3)}(this,function(a){return function(){function b(a){v=o(a),w=v.createSVGPoint(),document.body.appendChild(u)}function c(){return"n"}function d(){return[0,0]}function e(){return" "}function f(){var a=q();return{top:a.n.y-u.offsetHeight,left:a.n.x-u.offsetWidth/2}}function g(){var a=q();return{top:a.s.y,left:a.s.x-u.offsetWidth/2}}function h(){var a=q();return{top:a.e.y-u.offsetHeight/2,left:a.e.x}}function i(){var a=q();return{top:a.w.y-u.offsetHeight/2,left:a.w.x-u.offsetWidth}}function j(){var a=q();return{top:a.nw.y-u.offsetHeight,left:a.nw.x-u.offsetWidth}}function k(){var a=q();return{top:a.ne.y-u.offsetHeight,left:a.ne.x}}function l(){var a=q();return{top:a.sw.y,left:a.sw.x-u.offsetWidth}}function m(){var a=q();return{top:a.se.y,left:a.e.x}}function n(){var b=a.select(document.createElement("div"));return b.style({position:"absolute",top:0,opacity:0,"pointer-events":"none","box-sizing":"border-box"}),b.node()}function o(a){return a=a.node(),"svg"===a.tagName.toLowerCase()?a:a.ownerSVGElement}function p(){return null===u&&(u=n(),document.body.appendChild(u)),a.select(u)}function q(){for(var b=x||a.event.target;"undefined"==typeof b.getScreenCTM&&"undefined"===b.parentNode;)b=b.parentNode;var c={},d=b.getScreenCTM(),e=b.getBBox(),f=e.width,g=e.height,h=e.x,i=e.y;return w.x=h,w.y=i,c.nw=w.matrixTransform(d),w.x+=f,c.ne=w.matrixTransform(d),w.y+=g,c.se=w.matrixTransform(d),w.x-=f,c.sw=w.matrixTransform(d),w.y-=g/2,c.w=w.matrixTransform(d),w.x+=f,c.e=w.matrixTransform(d),w.x-=f/2,w.y-=g/2,c.n=w.matrixTransform(d),w.y+=g,c.s=w.matrixTransform(d),c}var r=c,s=d,t=e,u=n(),v=null,w=null,x=null;b.show=function(){var a=Array.prototype.slice.call(arguments);a[a.length-1]instanceof SVGElement&&(x=a.pop());var c,d=t.apply(this,a),e=s.apply(this,a),f=r.apply(this,a),g=p(),h=z.length,i=document.documentElement.scrollTop||document.body.scrollTop,j=document.documentElement.scrollLeft||document.body.scrollLeft;for(g.html(d).style({opacity:1,"pointer-events":"all"});h--;)g.classed(z[h],!1);return c=y.get(f).apply(this),g.classed(f,!0).style({top:c.top+e[0]+i+"px",left:c.left+e[1]+j+"px"}),b},b.hide=function(){var a=p();return a.style({opacity:0,"pointer-events":"none"}),b},b.attr=function(c,d){if(arguments.length<2&&"string"==typeof c)return p().attr(c);var e=Array.prototype.slice.call(arguments);return a.selection.prototype.attr.apply(p(),e),b},b.style=function(c,d){if(arguments.length<2&&"string"==typeof c)return p().style(c);var e=Array.prototype.slice.call(arguments);return a.selection.prototype.style.apply(p(),e),b},b.direction=function(c){return arguments.length?(r=null==c?c:a.functor(c),b):r},b.offset=function(c){return arguments.length?(s=null==c?c:a.functor(c),b):s},b.html=function(c){return arguments.length?(t=null==c?c:a.functor(c),b):t},b.destroy=function(){return u&&(p().remove(),u=null),b};var y=a.map({n:f,s:g,e:h,w:i,nw:j,ne:k,sw:l,se:m}),z=y.keys();return b}})}(),function(){var a=System.amdDefine;a("github:Caged/d3-tip@0.6.7.js",["github:Caged/d3-tip@0.6.7/index.js"],function(a){return a})}(),System.register("components/fantom5/Forrest_et_al_2014/venn-chart.js",["venn.js","d3-tip","d3-tip/examples/example-styles.css!"],function(a){"use strict";var b,c;return{setters:[function(a){b=a.default},function(a){c=a.default},function(a){}],execute:function(){a("default",function(a){function d(a){var b="white";return a["Cell Line"]===!0&&(b=d3.interpolateRgb(b,h[0])(.3)),a.Tissue===!0&&(b=d3.interpolateRgb(b,h[1])(.3)),a.Primary===!0&&(b=d3.interpolateRgb(b,h[2])(.3)),b}function e(a,c,d){var e=350,f=350,i={};a.forEach(function(a){i[a.label]=a.total});var j=d3.format("0,000"),k=[{sets:["P"],size:i.P+i.PT+i.PC+i.PCT,label:"Primary "+j(i.P)},{sets:["C"],size:i.C+i.PC+i.CT+i.PCT,label:"Cell Line "+j(i.C)},{sets:["T"],size:i.T+i.PT+i.CT+i.PCT,label:"Tissue "+j(i.T)},{sets:["P","C"],size:i.PC+i.PCT},{sets:["P","T"],size:i.PT+i.PCT},{sets:["C","T"],size:i.CT+i.PCT},{sets:["P","C","T"],size:i.PCT}],l=d3.scale.ordinal().domain([k[1].label,k[2].label,k[0].label]).range(h),m=b.VennDiagram().colours(l).width(e).height(f),n=g.append("span").datum(k).call(m);n.select("svg").attr("title",d),n.selectAll("text").style("fill","black"),n.selectAll("path").attr("opacity","0.2").style("fill-opacity","1"),n.selectAll(".venn-intersection").attr("opacity","0").style("fill-opacity","0")}function f(a,b,c){var e={top:70,right:10,bottom:10,left:10},f=400,h=200,i=d3.max(a,b),l=d3.scale.linear().domain([0,i]).range([0,h]).nice(),m=g.append("svg").attr("title",c).attr("class","chart  col-xs-3").attr("width",h+2*e.left+e.right).attr("height",f+e.left+e.right).append("g").attr("transform","translate("+e.left+","+e.top+")");m.call(k),m.append("text").attr("class","title").attr("text-anchor","middle").attr("x",h/2).text(c);var n=m.selectAll(".percent_bar").data(a).enter().append("rect").attr("class","percent_bar").attr("y",function(a,b){return 30*b+30}).attr("x",0).attr("height",25).style("fill",d).on("mouseover",k.show).on("mouseout",k.hide);n.transition().duration(1e3).attr("width",function(a){return l(b(a))});var o=d3.svg.axis().scale(l).ticks(5).orient("bottom").tickFormat(j);m.append("g").attr("class","axis").attr("transform","translate(0,5)").call(o),m.selectAll(".label").data(a).enter().append("text").attr("class","label").attr("y",function(a,b){return 30*b+30+17}).attr("x",5).attr("text-anchor","right").text(function(a){return a.label2})}var g=d3.select(this),h=["lime","blue","red"],i=d3.format("%"),j=d3.format("s"),k=c().attr("class","d3-tip").direction("e").html(function(a){var b=a.label;return a.total&&(b+="<br />Total Peaks "+a.total),a.Novel&&(b+="<br />Novel "+a.Novel+" ("+i(a.Novel/a.total)+")"),b});a.forEach(function(a){switch(a.Novel=+a.Novel,a.Known=+a.Known,a.total=a.Novel+a.Known,a.percent=a.Novel/a.total*100,a["Cell Line"]="true"===a["Cell Line"],a.Tissue="true"===a.Tissue,a.Primary="true"===a.Primary,a.label=a.Primary?"P":"",a.label+=a["Cell Line"]?"C":"",a.label+=a.Tissue?"T":"",a.label){case"P":a.label2="Primary";break;case"T":a.label2="Tissue";break;case"C":a.label2="Cell Line";break;default:a.label2=a.label}}),a.sort(function(a,b){return d3.ascending(a.percent,b.percent)}),e(a,function(a){return a.total},"DPI defined peaks"),f(a,function(a){return a.total},"Total peaks"),f(a,function(a){return a.percent},"Percent novel peaks")})}}}),System.register("components/fantom5/Forrest_et_al_2014/venn.js",["npm:babel-runtime@5.8.38/helpers/create-class.js","npm:babel-runtime@5.8.38/helpers/class-call-check.js","d3","./venn.css!","./venn-chart"],function(a){var b,c,d,e,f;return{setters:[function(a){b=a.default},function(a){c=a.default},function(a){d=a.default},function(a){},function(a){e=a.default}],execute:function(){"use strict";f=function(){function a(){var b=this;c(this,a),this.editorOptions={data:this.dataPackage,enableOpen:!1,enableProtected:!0,onChange:function(){return b.change()}}}return b(a,[{key:"change",value:function(){var a=this.dataPackage.resources.filter(function(a){return Boolean(a.data)}).map(function(a){return a.data}),b=d.select("#_fantom5_Forrest_et_al_2014__chart");b.selectAll("div").remove();var c=b.selectAll("div").data(a);c.enter().append("div"),c.each(e)}},{key:"$onInit",value:function(){this.change()}}]),a}(),a("default",{controller:f,templateUrl:"components/fantom5/Forrest_et_al_2014/venn.html",bindings:{dataPackage:"<package"}})}}}),System.register("components/fantom5/routes.js",["angular","components/fantom5/index","components/fantom5/Lizio_et_al_2015/timeCourse","components/fantom5/Motakis_et_al_2013/scatter","components/fantom5/Forrest_et_al_2014/venn"],function(a){"use strict";var b,c,d,e,f;return{setters:[function(a){b=a.default},function(a){c=a.default},function(a){d=a.default},function(a){e=a.default},function(a){f=a.default}],execute:function(){a("default",b.module("fantom5",[]).component("fantom",c).component("forrest",f).component("lizio",d).component("motakis",e).config(["$routeProvider",function(a){a.when("/fantom5",{template:'<fantom data-package="$resolve.dataPackage"></fantom>',datapackageUrl:"components/fantom5/datapackage.json"}).when("/fantom5/Lizio_et_al_2015",{template:'<lizio data-package="$resolve.dataPackage"></lizio>',datapackageUrl:"components/fantom5/Lizio_et_al_2015/datapackage.json"}).when("/fantom5/Motakis_et_al_2013",{template:'<motakis data-package="$resolve.dataPackage"></motakis>',datapackageUrl:"components/fantom5/Motakis_et_al_2013/datapackage.json"}).when("/fantom5/Forrest_et_al_2014",{template:'<forrest data-package="$resolve.dataPackage"></forrest>',datapackageUrl:"components/fantom5/Forrest_et_al_2014/datapackage.json"})}]))}}}),System.register("common/services/grid/grid.css!github:systemjs/plugin-css@0.1.23.js",[],function(){return{setters:[],execute:function(){}}}),System.register("common/services/grid/grid.js",["angular","angular-ui-grid","./grid.css!"],function(a){"use strict";var b,c;return{setters:[function(a){b=a.default},function(a){},function(a){}],execute:function(){c=b.module("projectX.grid",["ui.grid","ui.grid.autoResize","ui.grid.selection","ui.grid.resizeColumns","ui.grid.pagination"]),a("default",c.name)}}}),System.register("common/services/facets/facet.html!github:systemjs/plugin-text@0.0.8.js",[],function(a,b){"use strict";return{setters:[],execute:function(){a("default",'<div class="facet">\n  <ul class="list-unstyled facet-list">\n    <li class="facet-item" ng-repeat="row in $ctrl.list | limitTo : $ctrl.limit" ng-click="$ctrl.toggle(row.key)">\n      <p ng-class="{true: \'bg-info\', false: \'bg-danger\'}[$ctrl.exists(row.key)]">\n          <span>\n            <input type="checkbox" ng-checked="$ctrl.exists(row.key)">\n            <label>\n              {{row.key}}\n            </label>\n          </span>\n          {{row.value.max}}\n          <uib-progressbar class="pull-right" max="100" value="$ctrl.scale(row.value.count)">\n            <span style="white-space:nowrap;">{{row.value.count}}</span>\n          </uib-progressbar>\n      <p>\n    </li>\n  </ul>\n  <div class="btn-group">\n    <a class="btn btn-sm btn-link"\n      ng-if="$ctrl.list.length > $ctrl.minLimit"\n      ng-click="$ctrl.toggleLimit()">\n      <span ng-switch="$ctrl.maxLimit > $ctrl.limit">\n        <i class="fa fa-plus" aria-label="show more" ng-switch-when="true">\n          show more (showing first {{$ctrl.limit | number}})\n        </i>\n        <i class="fa fa-minus" aria-label="show less" ng-switch-when="false">\n          show less\n        </i>\n      </span>\n    </a>\n    <a class="btn btn-sm btn-link"\n      ng-if="$ctrl.facet.filterTo.length > 0"\n      ng-click="$ctrl.clear()">\n      <i class="fa fa-times-circle-o" aria-label="Remove Filter">\n        clear\n      </i>\n    </a>\n    <a class="btn btn-sm btn-link" style="visibility: hidden">&nbsp;</a>\n  </div>\n</div>\n')}}}),System.register("common/services/facets/facet.css!github:systemjs/plugin-css@0.1.23.js",[],function(){return{setters:[],execute:function(){}}}),System.register("common/services/facets/facet.utils.js",["npm:babel-runtime@5.8.38/helpers/extends.js","npm:babel-runtime@5.8.38/core-js/object/keys.js"],function(a){function b(a){return"undefined"==typeof a||void 0===a||null===a?a:("string"!=typeof a&&(a=String(a)),a=a.split(".").pop(),a.replace(/_+/g," ").replace(/^[A-Z]+$/,function(a){return(a.charAt(0).toUpperCase()+a.slice(1)).toLowerCase()}).replace(/([\w\u00C0-\u017F]+)/g,function(a){return a.charAt(0).toUpperCase()+a.slice(1)}).replace(/(\w+?(?=[A-Z]))/g,"$1 "))}function c(a,c){function d(a){if(null===a)l.splice(0,l.length);else{var b=l.indexOf(a);b>-1?l.splice(b,1):l.push(a)}e()}function e(){return 0===l.length?j.filter(null):1!==l.length||k?j.filter(g):j.filterExact(l[0])}function g(a){return 0===l.length||(m.groupBy?l.indexOf(m.groupBy(a))>-1:l.indexOf(a)>-1)}var h=c.displayName||b(c.key),i=c.accessor||function(a){return a[c.key]},j=a.dimension(i),k=c.groupBy||void 0,l=[],m=f({displayName:h,dimension:j,group:k?j.group(k):j.group().orderNatural(),filter:e,filterTo:l,filterFn:g,toggle:d,visible:!0},c);return m}function d(a,b,c){"all"===b||null===b||"*"===b?b=g(a):"string"==typeof b&&(b=[b]),b.forEach(function(b){a[b].toggle(c)})}function e(a,b){return function(c,e){d(a,c,e),b(a)}}var f,g;return{setters:[function(a){f=a.default},function(a){g=a.default}],execute:function(){"use strict";a("readableName",b),a("createFacet",c),a("setFilter",d),a("setFilter$",e)}}}),System.register("common/services/facets/facet.controller.js",["npm:babel-runtime@5.8.38/core-js/object/assign.js","d3","./facet.css!","./facet.utils"],function(a){function b(a,b){function f(){var c=m.facet;c.query||(c.universe?g():!function(){var d=a.$watch(function(){return c.universe},function(a){a&&(d(),b.debug("facet.universe defined",c.key),g())})}())}function g(){var a=m.facet;a.displayName=a.displayName||e(a.key);var c=a.sortBy||function(a,b){return b.value.count-a.value.count},d=a.universe,f=new Date;b.debug("start query",a.key),d.query({groupBy:a.groupBy||a.key,type:a.type||"string"}).then(function(e){b.debug("done query",a.key,new Date-f,"ms"),a.query=e,m.list=e.data.slice().sort(c),h(),d.onFilter(h)}).catch(console.error.bind(console))}function h(){m.list&&a.$applyAsync(function(){var a=d.max(m.list,function(a){return a.value.count});p.domain([0,a])})}function i(){m.facets.filter(m.facet.key)}function j(a){var b=m.facet.universe.filters[m.facet.key];return!!b&&(Array.isArray(b.value)?b.value.indexOf(a)>-1:b.value===a)}function k(a){m.facet.universe.filter(m.facet.key,a).catch(console.error.bind(console))}function l(){m.limit=m.limit===m.minLimit?m.maxLimit:m.minLimit}var m=this;m.facet.displayName=m.facet.displayName||e(m.facet.key);var n=5,o=100,p=d.scale.linear().range([0,100]);return a.$watch(function(){return m.facet.collapsed},function(a){a||(b.debug("opened",m.facet.key),f())}),c(m,{minLimit:n,maxLimit:o,limit:n,size:0,list:[],scale:p,toggle:k,toggleLimit:l,exists:j,clear:i})}var c,d,e;return{setters:[function(a){c=a.default},function(a){d=a.default},function(a){},function(a){e=a.readableName}],execute:function(){"use strict";b.$inject=["$scope","$log"],
a("default",b)}}}),System.register("common/services/facets/facet.component.js",["./facet.css!","./facet.html!text","./facet.controller"],function(a){"use strict";var b,c;return{setters:[function(a){},function(a){b=a.default},function(a){c=a.default}],execute:function(){a("default",{controller:c,template:b,bindings:{facet:"<"}})}}}),System.register("common/services/facets/facet-bar.component.js",[],function(a){"use strict";var b;return{setters:[],execute:function(){b='\n  <div class="tag-bar">\n    <span ng-repeat="(key, facet) in $ctrl.facets">\n      <span ng-repeat="item in facet.filterTo">\n        <span class="label label-default">\n          {{facet.displayName}}: {{item}}\n          <i class="fa fa-times" aria-hidden="true" ng-click="$ctrl.setFilter(key, item)"></i>\n        </span>\n      </span>\n    </span>\n  </div>',a("default",{template:b,bindings:{facets:"<",setFilter:"<"}})}}}),System.register("common/services/facets/facet-panels.component.html!github:systemjs/plugin-text@0.0.8.js",[],function(a,b){"use strict";return{setters:[],execute:function(){a("default",'<div class="text-right">\n  <a class="btn btn-sm btn-link"\n    ng-click="$ctrl.clearAll()">\n    <i class="fa fa-times-circle-o" aria-label="Remove Filter">\n      Clear all\n    </i>\n  </a>\n</div>\n<div class="panel panel-default panel-facet"\n  ng-repeat="facet in $ctrl.facets"\n  ng-if="!facet.hidden">\n  <div class="panel-heading" ng-click="facet.collapsed = !facet.collapsed">\n    <h3 class="panel-title" uib-tooltip-html="::facet.description" tooltip-placement="right" tooltip-append-to-body="true">\n      {{(facet.displayName || facet.key)}} <small>{{facet.query.data.length}}</small>\n      <i class="pull-right glyphicon" ng-class="{\'glyphicon-chevron-down\': facet.collapsed, \'glyphicon-chevron-right\': !facet.collapsed}"></i>\n    </h3>\n  </div>\n  <div class="panel-body" uib-collapse="facet.collapsed">\n    <small>\n      <facet facet="facet"></facet>\n    </small>\n  </div>\n</div>\n')}}}),System.register("common/services/facets/facet-panels.component.js",["./facet-panels.component.html!text"],function(a){"use strict";var b;return{setters:[function(a){b=a.default}],execute:function(){a("default",{template:b,bindings:{facets:"<",clearAll:"&"}})}}}),System.register("common/services/facets/facets.js",["angular","./facet.component","./facet-bar.component","./facet-panels.component"],function(a){"use strict";var b,c,d,e,f;return{setters:[function(a){b=a.default},function(a){c=a.default},function(a){d=a.default},function(a){e=a.default}],execute:function(){f=b.module("projectX.facets",[]).component("facet",c).component("facetbar",d).component("facetpanels",e).name,a("default",f)}}}),System.register("components/examples/index.js",["common/styles/index.css!"],function(a){"use strict";function b(a){this.dataPackage.resources.forEach(function(b){a.normalizePackage(b.url,b.data)})}return{setters:[function(a){}],execute:function(){b.$inject=["dataService"],a("default",{controller:b,templateUrl:"components/examples/index.html",bindings:{dataPackage:"<package"}})}}}),System.register("components/examples/chiasm/chiasm.css!github:systemjs/plugin-css@0.1.23.js",[],function(){return{setters:[],execute:function(){}}}),System.register("components/examples/chiasm/chiasm.js",["npm:babel-runtime@5.8.38/core-js/object/assign.js","chiasm","chiasm-charts","chiasm-layout","chiasm-links","chiasm-data-reduction","./chiasm.css!","codemirror/lib/codemirror.css!","inlet/inlet.css!"],function(a){function b(){function a(){var a=b.dataPackage.resourcesByName;a["lineChartData.csv"].data.forEach(function(a){a.temperature=Number(a.temperature),a.timestamp=new Date(a.timestamp)}),i.config=a["config.json"].data,i.barsData={metadata:{columns:[{name:"name",type:"string"},{name:"amount",type:"number"}]},data:a["barChartData.csv"].data},i.lineData={metadata:{columns:[{name:"timestamp",type:"date"},{name:"temperature",type:"number"}]},data:a["lineChartData.csv"].data},i.scatterData={metadata:{columns:[{name:"sepal_length",type:"number",label:"Sepal Length"},{name:"sepal_width",type:"number",label:"Sepal Width"},{name:"petal_length",type:"number",label:"Petal Length"},{name:"petal_width",type:"number",label:"Petal Width"},{name:"species",type:"string",label:"Species"}]},data:a["iris.csv"].data}}var b=this,i=new d;i.plugins.layout=f,i.plugins.links=g,i.plugins.dataReduction=h,i.plugins.barChart=e.components.barChart,i.plugins.scatterPlot=e.components.scatterPlot,i.plugins.lineChart=e.components.lineChart,i.plugins.heatMap=e.components.heatMap,i.plugins.boxPlot=e.components.boxPlot;var j=null;return i.getComponent("layout").then(function(a){a.when(["containerSVG"],function(a){a.attr("title","Chiasm Chart")}),j=a}),c(b,{editorOptions:{data:b.dataPackage,onChange:a},$onInit:a,$onDestroy:function(){j&&"function"==typeof j.destroy&&j.destroy()}})}var c,d,e,f,g,h;return{setters:[function(a){c=a.default},function(a){d=a.default},function(a){e=a.default},function(a){f=a.default},function(a){g=a.default},function(a){h=a.default},function(a){},function(a){},function(a){}],execute:function(){"use strict";a("default",{controller:b,templateUrl:"components/examples/chiasm/chiasm.html",bindings:{dataPackage:"<package"}})}}}),System.register("components/examples/biojs/biojs.css!github:systemjs/plugin-css@0.1.23.js",[],function(){return{setters:[],execute:function(){}}}),System.register("components/examples/biojs/biojs.js",["npm:babel-runtime@5.8.38/core-js/object/assign.js","biojs-vis-example","biojs-io-fasta/lib/fasta","./biojs.css!"],function(a){function b(){function a(){for(;f.firstChild;)f.removeChild(f.firstChild);b.fasta=e.parse(b.dataPackage.resources[0].content)[0],d({el:f,sequence:b.fasta.seq})}var b=this,f=document.getElementById("_examples_biojs__viewer");c(b,{editorOptions:{data:b.dataPackage,enableSvgDownload:!1,enablePngDownload:!1,onChange:a},$onInit:function(){a()}})}var c,d,e;return{setters:[function(a){c=a.default},function(a){d=a.default},function(a){e=a.default},function(a){}],execute:function(){"use strict";a("default",{controller:b,templateUrl:"components/examples/biojs/biojs.html",bindings:{dataPackage:"<package"}})}}}),System.register("components/examples/bars/bars.js",["npm:babel-runtime@5.8.38/core-js/object/assign.js","d3","./bars-chart"],function(a){function b(){function a(){var a=b.dataPackage.resources.filter(function(a){return Boolean(a.data)}).map(function(a){return a.data}),c=d.select("#_examples_bars__chart"),e=c[0][0].clientWidth,g=c.selectAll("div").data(a);g.enter().append("div"),g.exit().remove(),g.call(f.width(e).height("auto"))}var b=this,f=new e;c(b,{editorOptions:{data:b.dataPackage,onChange:a},draw:a,$onInit:a})}var c,d,e;return{setters:[function(a){c=a.default},function(a){d=a.default},function(a){e=a.default}],execute:function(){"use strict";a("default",{controller:b,templateUrl:"components/examples/bars/bars.html",bindings:{dataPackage:"<package"}})}}}),function(){var a=System.amdDefine;!function(b,c){"function"==typeof a&&a.amd?a("github:martine/webtreemap@gh-pages/webtreemap.js",[],c):"object"==typeof module&&module.exports?module.exports=c():b.appendTreemap=c()}(this,function(){function a(a){k=a;for(var b=0,d=a;d.parent;){d=d.parent,b+=1;for(var f,g=0;f=d.children[g];++g)f.dom&&(f.dom.style.zIndex=0)}for(var i=d.dom.offsetWidth,j=d.dom.offsetHeight,l=a;l.parent;l=l.parent)c(l.dom,-h,-h,i,j),l.dom.style.zIndex=1;e(a,b,i,j)}function b(b,c){var d=document.createElement("div");d.style.zIndex=1,d.className="webtreemap-node webtreemap-level"+Math.min(c,4),b.data.$symbol&&(d.className+=" webtreemap-symbol-"+b.data.$symbol.replace(" ","_")),b.data.$dominant_symbol&&(d.className+=" webtreemap-symbol-"+b.data.$dominant_symbol.replace(" ","_"),d.className+=" webtreemap-aggregate");for(key in b.data)"$area"!=key&&d.setAttribute("data-"+key,b.data[key]);d.onmousedown=function(c){return 0==c.button&&a(k&&b==k&&k.parent?k.parent:b),c.stopPropagation(),!0};var e=document.createElement("div");return e.className="webtreemap-caption",e.innerHTML=b.name,d.appendChild(e),d.title=b.name,b.dom=d,d}function c(a,b,c,d,e){d-=2*h,e-=2*h,a.style.left=b+"px",a.style.top=c+"px",a.style.width=Math.max(d,0)+"px",a.style.height=Math.max(e,0)+"px"}function d(a,b,c){for(var d=a[c],e=d.data.$area,f=e,g=0,h=0,i=c;d=a[i];++i){var k=d.data.$area;k<e&&(e=k),k>f&&(f=k),g+=k;var l=Math.max(b*b*f/(g*g),j*g*g/(b*b*e));if(h&&l>h){g-=k;break}h=l}return[i,g]}function e(a,f,g,h){if("children"in a){var k=a.data.$area,l=0,m=0,n=g-1,o=h-2;l+=i,m+=i,n-=i,o-=i,m+=14;for(var p,q=Math.sqrt(k/((n-l)*(o-m))),r=0;p=a.children[r];++r)if(n-l<60||o-m<40)p.dom&&(p.dom.style.zIndex=0,c(p.dom,-2,-2,0,0));else{var s,t=(o-m)/(n-l)>j;s=t?(o-m)*q:(n-l)*q;for(var u=d(a.children,s,r),v=u[0],w=u[1],x=l,y=m,z=r;z<v;++z){p=a.children[z],p.dom?p.dom.style.zIndex=1:(p.parent=a,p.dom=b(p,f+1),a.dom.appendChild(p.dom));var A=p.data.$area;t?(g=w/s,h=A/g):(h=w/s,g=A/h),g/=q,h/=q,g=Math.round(g),h=Math.round(h),c(p.dom,x,y,g,h),"children"in p&&e(p,f+1,g,h),t?y+=h:x+=g}t?l+=Math.round(w/s/q):m+=Math.round(w/s/q),r=v-1}}}function f(a){a.children.sort(function(a,b){return b.data.$area-a.data.$area});for(var b=0;b<a.children.length;++b){var c=a.children[b];"children"in c&&f(c)}}function g(a,d,g){var h=getComputedStyle(a,null),i=parseInt(h.width),j=parseInt(h.height);void 0!==g&&g.sort===!1||f(d),d.dom||b(d,0),a.appendChild(d.dom),c(d.dom,0,0,i,j),e(d,0,i,j)}var h=1,i=4,j=1.2,k=null;return g})}(),function(){var a=System.amdDefine;a("github:martine/webtreemap@gh-pages.js",["github:martine/webtreemap@gh-pages/webtreemap.js"],function(a){return a})}(),System.register("components/examples/treemap/treemap.css!github:systemjs/plugin-css@0.1.23.js",[],function(){return{setters:[],execute:function(){}}}),System.register("components/examples/treemap/treemap.js",["npm:babel-runtime@5.8.38/core-js/object/assign.js","angular","screenfull","webtreemap","webtreemap/webtreemap.css!","./treemap.css!"],function(a){function b(a,b,g){function h(){d.forEach(g.find("treemap"),function(a){var b=d.element(a),c=b.attr("data-name");i(b,j.dataPackage.resourcesByName[c])})}function i(a,b){function c(a,b,c){var e=a.split("/"),f=h;f.data.$area+=b,e.forEach(function(a){var e=f.children.find(function(b){return b.name===a});e||(e=d(a,c),f.children.push(e)),f=e,f.data.$area+=b})}function d(a,b){return{name:a,data:{$area:0,symbol:b},children:[]}}function e(a,b){var c=a.data.$area,d=100*c/b;a.name+=" • "+c.toLocaleString()+" • "+d.toFixed(2)+"%",a.children.forEach(function(a){e(a,b)})}a.empty();var g=b.data,h=d("/");if(b.table)g.forEach(function(a){c(a.Source,Number(a.Size),a.Tag)});else for(var i in g)Object.hasOwnProperty.call(g,i)&&c(i,g[i]);e(h,h.data.$area),f(a[0],h)}var j=this;return e.enabled&&document.addEventListener(e.raw.fullscreenchange,function(b){a.debug("screenfull.raw.fullscreenerror"),d.element(b.target).toggleClass("fullscreen",e.isFullscreen),h()}),c(j,{editorOptions:{data:j.dataPackage,enableSvgDownload:!1,enablePngDownload:!1,onChange:h},draw:h,$onInit:function(){b(h,0)},fullscreen:function(a){var b=d.element(a.target).parent().find("treemap");e.request(b[0])}})}var c,d,e,f;return{setters:[function(a){c=a.default},function(a){d=a.default},function(a){e=a.default},function(a){f=a.default},function(a){},function(a){}],execute:function(){"use strict";b.$inject=["$log","$timeout","$element"],a("default",{controller:b,templateUrl:"components/examples/treemap/treemap.html",bindings:{dataPackage:"<package"}})}}}),System.register("components/examples/bars/bars.css!github:systemjs/plugin-css@0.1.23.js",[],function(){return{setters:[],execute:function(){}}}),System.register("components/examples/bars/bars-chart.js",["d3","./bars.css!"],function(a){"use strict";function b(a){function b(a){a.each(function(a){var b=c.select(this);j.rangeRoundBands([0,e],.1),n.range([f,0]),b.selectAll("svg").remove();var h=b.append("svg").attr("title",g).attr("width",e+d.left+d.right).attr("height",f+d.top+d.bottom).append("g").attr("transform","translate("+d.left+","+d.top+")");j.domain(a.map(i)),n.domain([0,c.max(a,m)]),h.append("g").attr("class","x axis").attr("transform","translate(0,"+f+")").call(l),h.append("g").attr("class","y axis").call(p).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end").text("Frequency"),h.selectAll(".bar").data(a).enter().append("rect").attr("class","bar").attr("x",k).attr("width",j.rangeBand).attr("y",o).attr("height",function(a){return f-o(a)})})}a=a||{};var d=a.margin||{top:20,right:20,bottom:30,left:40},e=960-d.left-d.right,f=500-d.top-d.bottom,g=a.title||"Bar Chart",h=c.format(".0%"),i=function(a){return a.letter},j=c.scale.ordinal(),k=function(a){return j(i(a))},l=c.svg.axis().scale(j).orient("bottom"),m=function(a){return a.frequency},n=c.scale.linear(),o=function(a){return n(m(a))},p=c.svg.axis().scale(n).orient("left").tickFormat(h);return b.width=function(a){return arguments.length<1?e:(e=a,b)},b.height=function(a){return arguments.length<1?f:("auto"===a&&(a=440/900*e),f=a,b)},b}var c;return a("default",b),{setters:[function(a){c=a.default},function(a){}],execute:function(){}}}),System.register("components/examples/polymer/bar-chart-tag.js",["polymer/polymer.html!","d3","components/examples/bars/bars-chart"],function(a){"use strict";var b,c;return{setters:[function(a){},function(a){b=a.default},function(a){c=a.default}],execute:function(){Polymer({is:"bar-chart",properties:{barData:{Type:String,notify:!0},data:{computed:"parse(barData)"}},attached:function(){this.resized=this.draw.bind(this),window.addEventListener("resize",this.resized)},detached:function(){window.removeEventListener("resize",this.resized)},observers:["dataChanged(data)"],created:function(){this.bars=new c(this)},parse:function(a){return JSON.parse(a)},dataChanged:function(){this.draw()},draw:function(){if(this.data&&this.elem){var a=this.clientWidth-80;b.select(this.elem).datum(this.data).call(this.bars.width(a).height("auto"))}},ready:function(){this.elem=this.$.chart,this.draw()}})}}}),System.register("components/examples/polymer/bar-chart.js",["npm:babel-runtime@5.8.38/core-js/object/assign.js","./bar-chart-tag.html!","./bar-chart-tag"],function(a){function b(){return c(this,{editorOptions:{data:this.dataPackage}})}var c;return{setters:[function(a){c=a.default},function(a){},function(a){}],execute:function(){"use strict";b.$inject=["$scope"],a("default",{controller:b,templateUrl:"components/examples/polymer/bar-chart.html",bindings:{dataPackage:"<package"}})}}}),System.register("common/services/grid/grid.utils.js",["URIjs"],function(a){"use strict";function b(a){var b=c(a).hostname();return f[b]||b}var c,d,e,f,g,h,i;return a("getLinkText",b),{setters:[function(a){c=a.default}],execute:function(){d=function(a){return'<div class="ui-grid-cell-contents" title="TOOLTIP">\n  <a href="#/'+a+'/{{COL_FIELD}}" target="_self">{{COL_FIELD}}</a>\n</div>'},a("internalLinkTemplate",d),e='<div class="ui-grid-cell-contents" title="TOOLTIP">\n  {{COL_FIELD}}\n  <button class="btn btn-link btn-xs" ng-click="grid.appScope.$ctrl.filter(row.entity.id)" title="Click to filter Gene association table above">\n    <i class="fa fa-filter" aria-hidden="true"></i>\n  </button>\n</div>',a("filterTemplate",e),f={"en.wikipedia.org":"wikipedia","www.ncbi.nlm.nih.gov":"ncbi"},g='<div class="ui-grid-cell-contents" title="TOOLTIP">\n  <span ng-switch="COL_FIELD">\n    <span ng-switch-when="no">\n      {{COL_FIELD}}\n    </span>\n    <span ng-switch-when="uncurated">\n      {{COL_FIELD}}\n    </span>\n    <span ng-switch-default>\n      <a href="{{COL_FIELD}}" target="_self">\n        {{grid.appScope.$ctrl.getLinkText(COL_FIELD)}}\n      </a>\n    </span>\n  </span>\n</div>',a("externalLinkTemplate",g),h={enableFiltering:!1,enableGridMenu:!0,enableColumnMenus:!1,enableSelectAll:!1,enableRowSelection:!0,selectionRowHeaderWidth:35,multiSelect:!1},a("gridDefaults",h),i='\n<div role="columnheader"\n      ng-class="{ \'sortable\': sortable }"\n      ui-grid-one-bind-aria-labelledby-grid="col.uid + \'-header-text \' + col.uid + \'-sortdir-text\'"\n      aria-sort="{{col.sort.direction == asc ? \'ascending\' : ( col.sort.direction == desc ? \'descending\' : (!col.sort.direction ? \'none\' : \'other\'))}}"\n      uib-tooltip-html="col.headerTooltip(col)"\n      tooltip-placement="top"\n      tooltip-append-to-body="true">\n    <div role="button" tabindex="0" class="ui-grid-cell-contents ui-grid-header-cell-primary-focus" col-index="renderIndex"><span class="ui-grid-header-cell-label" ui-grid-one-bind-id-grid="col.uid + \'-header-text\'">{{ col.displayName CUSTOM_FILTERS }}</span> <span ui-grid-one-bind-id-grid="col.uid + \'-sortdir-text\'" ui-grid-visible="col.sort.direction" aria-label="{{getSortDirectionAriaLabel()}}"><i ng-class="{ \'ui-grid-icon-up-dir\': col.sort.direction == asc, \'ui-grid-icon-down-dir\': col.sort.direction == desc, \'ui-grid-icon-blank\': !col.sort.direction }" title="{{isSortPriorityVisible() ? i18n.headerCell.priority + \' \' + ( col.sort.priority + 1 )  : null}}" aria-hidden="true"></i> <sub ui-grid-visible="isSortPriorityVisible()" class="ui-grid-sort-priority-number">{{col.sort.priority + 1}}</sub></span></div>\n    <div role="button" tabindex="0" ui-grid-one-bind-id-grid="col.uid + \'-menu-button\'" class="ui-grid-column-menu-button" ng-if="grid.options.enableColumnMenus && !col.isRowHeader  && col.colDef.enableColumnMenu !== false" ng-click="toggleMenu($event)" ng-class="{\'ui-grid-column-menu-button-last-col\': isLastCol}" ui-grid-one-bind-aria-label="i18n.headerCell.aria.columnMenuButtonLabel" aria-haspopup="true"><i class="ui-grid-icon-angle-down" aria-hidden="true">&nbsp;</i></div>\n    <div ui-grid-filter></div>\n</div>',a("headerCellTemplate",i)}}}),System.register("components/examples/universe/universe.css!github:systemjs/plugin-css@0.1.23.js",[],function(){return{setters:[],execute:function(){}}}),System.register("components/examples/universe/bar-chart.js",["d3","./universe.css!"],function(a){"use strict";function b(){function a(b){function k(a){for(var b=[],c=-1,d=a.length,g=null,h=e(a[1].key)-e(a[0].key)-2;++c<d;)g=a[c],b.push("M",e(g.key)+1,",",m,"V",f(g.value.count),"h",h,"V",m);return b.join("")}function p(a){var b=Number("e"===a),c=b?1:-1,d=m/3;return"M"+.5*c+","+d+"A6,6 0 0 "+b+" "+6.5*c+","+(d+6)+"V"+(2*d-6)+"A6,6 0 0 "+b+" "+.5*c+","+2*d+"ZM"+2.5*c+","+(d+8)+"V"+(2*d-8)+"M"+4.5*c+","+(d+8)+"V"+(2*d-8)}b.each(function(b){o=b;var q=o.data;f.range([m,0]).domain(c.extent(q,function(a){return a.value.count}));var r=c.extent(q,function(a){return a.key}),s=q[1].key-q[0].key;r[1]+=s,e.domain(r).rangeRound([0,l]),h.scale(e),i.x(e);var t=c.select(this),u=t.select("g");if(u.empty()){var v=t.append("svg").attr("title",n).attr("width",l+d.left+d.right).attr("height",m+d.top+d.bottom);v.append("text").attr("class","title").attr("text-anchor","middle").attr("transform","translate("+l/2+","+d.top/2+")").text(n),u=v.append("g").attr("transform","translate("+d.left+","+d.top+")"),u.append("clipPath").attr("id","clip-"+g).append("rect").attr("width",l).attr("height",m),u.selectAll(".bar").data(["background","foreground"]).enter().append("path").attr("class",function(a){return a+" bar"}).datum(o.data,function(a){return a.key}),u.selectAll(".foreground.bar").attr("clip-path","url(#clip-"+g+")"),u.append("g").attr("class","axis").attr("transform","translate(0,"+m+")").call(h);var w=u.append("g").attr("class","brush").call(i);w.selectAll("rect").attr("height",m),w.selectAll(".resize").append("path").attr("d",p),a.update=function(){t.call(a)}}if(j)if(j=!1,u.selectAll(".brush").call(i),t.select(".title button").style("display",i.empty()?"none":null),i.empty())u.selectAll("#clip-"+g+" rect").attr("x",0).attr("width",l);else{var x=i.extent();u.selectAll("#clip-"+g+" rect").attr("x",e(x[0])).attr("width",e(x[1])-e(x[0]))}u.selectAll(".bar").attr("d",k)})}b.id||(b.id=0);var d={top:20,right:10,bottom:20,left:10},e=c.scale.linear(),f=c.scale.linear(),g=b.id++,h=c.svg.axis().orient("bottom"),i=c.svg.brush(),j=null,k=null,l=500,m=100,n="",o=null;return i.on("brushstart.chart",function(){var a=c.select(this.parentNode.parentNode.parentNode);a.select(".title button").style("display",null)}),i.on("brush.chart",function(){var a=c.select(this.parentNode),b=i.extent();k&&a.select(".brush").call(i.extent(b=b.map(k))).selectAll(".resize").style("display",null),a.select("#clip-"+g+" rect").attr("x",e(b[0])).attr("width",e(b[1])-e(b[0])),o.universe.filter(o.column.key,b,!0,!0)}),i.on("brushend.chart",function(){if(i.empty()){var a=c.select(this.parentNode.parentNode.parentNode);a.select(".title button").style("display","none"),a.select("#clip-"+g+" rect").attr("x",null).attr("width","100%"),o.universe.filter(o.column.key,null,!0,!0)}}),a.margin=function(b){return arguments.length?(d=b,a):d},a.width=function(b){return arguments.length?(l=b,a):l},a.height=function(b){return arguments.length?(m=b,a):m},a.title=function(b){return arguments.length?(n=b,a):n},a.x=function(b){return arguments.length?(e=b,h.scale(e),i.x(e),a):e},a.y=function(b){return arguments.length?(f=b,a):f},a.filter=function(b){return b?(i.extent(b),o.universe.filter(o.column.key,b,!0,!0)):(i.clear(),o.universe.filter(o.column.key,null,!0,!0)),j=!0,a},a.clearBrush=function(){return i.clear(),j=!0,a},a.round=function(b){return arguments.length?(k=b,a):k},c.rebind(a,i,"on")}var c;return a("default",b),{setters:[function(a){c=a.default},function(a){}],execute:function(){}}}),System.register("components/examples/universe/universe.js",["npm:babel-runtime@5.8.38/helpers/extends.js","npm:babel-runtime@5.8.38/core-js/object/assign.js","npm:babel-runtime@5.8.38/regenerator.js","npm:babel-runtime@5.8.38/core-js/promise.js","d3","universe","lodash/debounce","common/services/grid/grid.utils","./bar-chart"],function(a){function b(a,b,o){function p(){var a,c;return e.async(function(d){for(;;)switch(d.prev=d.next){case 0:return o.start(),a=u.raw=u.dataPackage.resources[0].data,b.debug("processing",a.length),a.forEach(function(a,b){a.index=b,a.date=t(a.date),a.delay=Number(a.delay),a.distance=Number(a.distance)}),u.universe&&(u.universe.clear(),u.universe=null),u.facets=[{key:"dayOfWeek",displayName:"Day of the Week"},{key:"origin",collapsed:!0,sortBy:n},{key:"destination",collapsed:!0,sortBy:n}],d.next=8,e.awrap(h(a,{generatedColumns:l}));case 8:return c=d.sent,u.universe=c,u.universe.onFilter(i(q,20)),d.next=13,e.awrap(u.universe.column("index"));case 13:u.id=u.universe.column.find("index").dimension,r(),q(),u.facets.forEach(function(a){a.universe=c}),b.debug("universe setup done");case 18:case"end":return d.stop()}},null,this)}function q(){a.$applyAsync(function(){u.gridOpts.data=u.data=u.id.top(1e3),s(),o.complete()})}function r(){var a=this,b=g.select("#charts");return b.selectAll("div").remove(),u.charts=[{groupBy:"hour",displayName:"Time of Day"},{groupBy:"arrivalDelay",displayName:"Arrival Delay (min.)"},{groupBy:"distances",displayName:"Distance (mi.)"}],f.all(u.charts.map(function(c){var d,f,g;return e.async(function(a){for(;;)switch(a.prev=a.next){case 0:return d=b.append("div").attr("class","col-md-4"),f=d[0][0].clientWidth,c.barChart=k().width(f-30).title(c.displayName),a.next=5,e.awrap(u.universe.query(c));case 5:return g=a.sent,a.abrupt("return",d.datum(g).call(c.barChart));case 7:case"end":return a.stop()}},null,a)}))}function s(){u.charts.forEach(function(a){a.barChart.update&&a.barChart.update()})}function t(a){return new Date(2001,a.substring(0,2)-1,a.substring(2,4),a.substring(4,6),a.substring(6,8))}var u=this,v=c({},j,{columnDefs:m,enableColumnResizing:!0,enablePaginationControls:!1,flatEntityAccess:!0,enableFiltering:!1,data:[]});return d(u,{editorOptions:{data:u.dataPackage,onChange:i(p,300)},gridOpts:v,clearAll:function(){return e.async(function(a){for(;;)switch(a.prev=a.next){case 0:return o.start(),a.next=3,e.awrap(u.universe.filterAll());case 3:u.charts.forEach(function(a){return a.barChart.clearBrush()});case 4:case"end":return a.stop()}},null,this)},raw:u.dataPackage.resources[0].data,$onInit:function(){b.debug("onInit"),p()},draw:s})}var c,d,e,f,g,h,i,j,k,l,m,n;return{setters:[function(a){c=a.default},function(a){d=a.default},function(a){e=a.default},function(a){f=a.default},function(a){g=a.default},function(a){h=a.default},function(a){i=a.default},function(a){j=a.gridDefaults},function(a){k=a.default}],execute:function(){"use strict";l={day:function(a){return g.time.format("%A")(a.date)},hour:function(a){return Number(g.time.format("%H")(a.date))},dayOfWeek:function(a){return g.time.format("%A")(a.date)},arrivalDelay:function(a){return 30*Math.floor(a.delay/30)},distances:function(a){return 100*Math.floor(a.distance/100)}},m=[{name:"date",type:"date",cellFilter:"date:'short'"},{name:"delay",displayName:"Arrival Delay",type:"number",cellTemplate:'\n      <div ng-class="{ early: COL_FIELD < 0}">\n        {{grid.getCellValue(row, col)}} min\n      </div>'},{name:"distance",displayName:"Distance",type:"number",cellTemplate:"\n      <div>\n        {{grid.getCellValue(row, col)}} mi.\n      </div>"},{name:"origin"},{name:"destination"}],n=function(a,b){return Number(a.key>b.key)||Number(a.key===b.key)-1},b.$inject=["$scope","$log","cfpLoadingBar"],a("default",{controller:b,templateUrl:"components/examples/universe/universe.html",bindings:{dataPackage:"<package"}})}}}),System.register("components/examples/routes.js",["angular","common/services/grid/grid","common/services/facets/facets","components/examples/index","components/examples/chiasm/chiasm","components/examples/biojs/biojs","components/examples/bars/bars","components/examples/treemap/treemap","components/examples/polymer/bar-chart","components/examples/universe/universe","d3-plugins/hexbin/hexbin"],function(a){"use strict";var b,c,d,e,f,g,h,i,j,k;return{setters:[function(a){b=a.default},function(a){c=a.default},function(a){d=a.default},function(a){e=a.default},function(a){f=a.default},function(a){g=a.default},function(a){h=a.default},function(a){i=a.default},function(a){j=a.default},function(a){k=a.default},function(a){}],execute:function(){a("default",b.module("examples",["projectX.dataService",c,d]).component("bars",h).component("examples",e).component("biojs",g).component("chiasm",f).component("polymer",j).component("treemapPage",i).component("universe",k).config(["$routeProvider",function(a){a.when("/examples",{template:'<examples data-package="$resolve.dataPackage"></examples>',datapackageUrl:"components/examples/datapackage.json"}).when("/examples/chiasm",{template:'<chiasm data-package="$resolve.dataPackage"></chiasm>',datapackageUrl:"components/examples/chiasm/datapackage.json"}).when("/examples/biojs",{template:'<biojs data-package="$resolve.dataPackage"></biojs>',datapackageUrl:"components/examples/biojs/datapackage.json"}).when("/examples/bars",{template:'<bars data-package="$resolve.dataPackage"></bars>',datapackageUrl:"components/examples/bars/datapackage.json"}).when("/examples/treemap",{template:'<treemap-page data-package="$resolve.dataPackage"></treemap-page>',datapackageUrl:"components/examples/treemap/datapackage.json"}).when("/examples/polymer",{template:'<polymer data-package="$resolve.dataPackage"></polymer>',datapackageUrl:"components/examples/polymer/datapackage.json"}).when("/examples/universe",{template:'<universe data-package="$resolve.dataPackage"></universe>',datapackageUrl:"components/examples/universe/datapackage.json"})}]))}}}),System.register("components/error/error.html!github:systemjs/plugin-text@0.0.8.js",[],function(a,b){"use strict";return{setters:[],execute:function(){a("default","<div class=\"jumbotron ng-scope\">\n  {{error || 'Unknown Error'}}\n</div>\n")}}}),System.register("components/extra/index.html!github:systemjs/plugin-text@0.0.8.js",[],function(a,b){"use strict";return{setters:[],execute:function(){a("default",'<div ng-include="\'common/partials/intro.html\'"></div>\n\n<div class="row _common_styles_index__index">\n\n  <h2 class="title">{{$ctrl.dataPackage.title}}</h2>\n  <p class="lead">{{$ctrl.dataPackage.description}}</p>\n\n  <div class="col-md-4" ng-repeat="(filename,file) in $ctrl.dataPackage.resources" ng-if="file.data">\n\n    <a ng-href="{{file.link}}">\n      <div class="card" style="background-image: url({{file.data.image}});">\n        <div>\n          <h3>{{file.data.name}}</h3>\n          <p marked="file.data.description"></p>\n        </div>\n      </div>\n    </a>\n\n  </div>\n</div>\n')}}}),System.register("components/extra/index.js",["common/styles/index.css!","./index.html!text"],function(a){"use strict";function b(a){this.dataPackage.resources.forEach(function(b){a.normalizePackage(b.url,b.data)})}var c;return{setters:[function(a){},function(a){c=a.default}],execute:function(){b.$inject=["dataService"],a("default",{controller:b,template:c,bindings:{dataPackage:"<package"}})}}}),System.register("components/extra/trains/trains-chart.js",["d3"],function(a){"use strict";function b(a){return a=a||{},function(a){a.each(function(a,b){function d(a,b){if(!b)for(var c in a)if(/^stop\|/.test(c)){var d=c.split("|");g.push({key:c,name:d[1],distance:+d[2],zone:+d[3]})}return{number:a.number,type:a.type,direction:a.direction,stops:g.map(function(b){return{station:b,time:e(a[b.key])}}).filter(function(a){return null!=a.time})}}function e(a){var b=h.parse(a);return null!=b&&b.getHours()<3&&b.setDate(b.getDate()+1),b}var f=c.select(this);f.selectAll("svg").remove();var g=[],h=c.time.format("%I:%M%p"),i={top:20,right:30,bottom:20,left:100},j=960-i.left-i.right,k=500-i.top-i.bottom,l=c.time.scale().domain([e("5:30AM"),e("11:30AM")]).range([0,j]),m=c.scale.linear().range([0,k]),n=c.scale.linear().domain([1e-4,3e-4]).range(["purple","orange"]).interpolate(c.interpolateLab),o=c.svg.axis().scale(l).ticks(8).tickFormat(h),p=f.append("svg").attr("title","Marey’s Trains").attr("width",j+i.left+i.right).attr("height",k+i.top+i.bottom).append("g").attr("transform","translate("+i.left+","+i.top+")");p.append("defs").append("clipPath").attr("id","clip").append("rect").attr("y",-i.top).attr("width",j).attr("height",k+i.top+i.bottom);var q=a.map(d);m.domain(c.extent(g,function(a){return a.distance}));var r=p.append("g").attr("class","station").selectAll("g").data(g).enter().append("g").attr("transform",function(a){return"translate(0,"+m(a.distance)+")"});r.append("text").attr("x",-6).attr("dy",".35em").attr("text-anchor","end").text(function(a){return a.name}),r.append("line").attr("x2",j),p.append("g").attr("class","x top axis").call(o.orient("top")),p.append("g").attr("class","x bottom axis").attr("transform","translate(0,"+k+")").call(o.orient("bottom"));var s=p.append("g").attr("class","train").attr("clip-path","url(#clip)").selectAll("g").data(q.filter(function(a){return/[NLB]/.test(a.type)})).enter().append("g").attr("class",function(a){return a.type});s.selectAll("line").data(function(a){return a.stops.slice(1).map(function(b,c){return[a.stops[c],b]})}).enter().append("line").attr("x1",function(a){return l(a[0].time)}).attr("x2",function(a){return l(a[1].time)}).attr("y1",function(a){return m(a[0].station.distance)}).attr("y2",function(a){return m(a[1].station.distance)}).style("stroke",function(a){return n(Math.abs((a[1].station.distance-a[0].station.distance)/(a[1].time-a[0].time)))}),s.selectAll("circle").data(function(a){return a.stops}).enter().append("circle").attr("transform",function(a){return"translate("+l(a.time)+","+m(a.station.distance)+")"}).attr("r",2)})}}var c;return a("default",b),{setters:[function(a){c=a.default}],execute:function(){}}}),System.register("components/extra/trains/trains.css!github:systemjs/plugin-css@0.1.23.js",[],function(){return{setters:[],execute:function(){}}}),System.register("components/extra/trains/trains.js",["npm:babel-runtime@5.8.38/core-js/object/assign.js","d3","./trains-chart","./trains.css!"],function(a){function b(){function a(){var a=b.dataPackage.resources.map(function(a){return a.data}),c=d.select("#_examples_trains__chart").selectAll("div").data(a);
c.enter().append("div"),c.exit().remove(),c.call(f)}var b=this,f=new e;c(b,{editorOptions:{data:b.dataPackage,onChange:a},draw:a,$onInit:a})}var c,d,e;return{setters:[function(a){c=a.default},function(a){d=a.default},function(a){e=a.default},function(a){}],execute:function(){"use strict";a("default",{controller:b,templateUrl:"components/extra/trains/trains.html",bindings:{dataPackage:"<package"}})}}}),System.register("components/extra/hexbin/hexbin.js",["d3","d3-plugins/hexbin/hexbin"],function(a){"use strict";function b(){var a=960,b=500,d=-1,e=0,f=.03,g=2e3,h=20,i=c.select("#chart").append("svg").attr("title","hexbins").attr("width",a).attr("height",b),j=c.random.normal(a/2,80),k=c.random.normal(b/2,80),l=c.range(g).map(function(){return[j(),k()]}),m=c.scale.linear().domain([0,20]).range(["white","steelblue"]).interpolate(c.interpolateLab),n=c.hexbin().size([a,b]).radius(20),o=i.append("g").attr("class","hexagons").selectAll("path").data(n(l)).enter().append("path").attr("d",n.hexagon(19.5)).attr("transform",function(a){return"translate("+a.x+","+a.y+")"}).style("fill",function(a){return m(a.length)});c.timer(function(){e+=f,j=c.random.normal(a/2+80*Math.cos(e),80),k=c.random.normal(b/2+80*Math.sin(e),80);for(var i=0;i<h;++i)d=(d+1)%g,l[d][0]=j(),l[d][1]=k();o=o.data(n(l),function(a){return a.i+","+a.j}),o.exit().remove(),o.enter().append("path").attr("d",n.hexagon(19.5)).attr("transform",function(a){return"translate("+a.x+","+a.y+")"}),o.style("fill",function(a){return m(a.length)})})}var c;return{setters:[function(a){c=a.default},function(a){}],execute:function(){a("default",{controller:b,templateUrl:"components/extra/hexbin/hexbin.html"})}}}),System.register("components/extra/routes.js",["angular","components/about/about.md!md","components/error/error.html!text","./index","./trains/trains","./hexbin/hexbin"],function(a){"use strict";function b(a){a.when("/extra/hexbin",{templateUrl:"components/extra/hexbin/hexbin.html"}).when("/extra/trains",{template:'<trains data-package="$resolve.dataPackage"></trains>',datapackageUrl:"components/extra/trains/datapackage.json"}).when("/extra/hexbin",{template:"<hexbin></hexbin>"}).otherwise({redirectTo:"/"})}var c,d,e,f,g,h;return{setters:[function(a){c=a.default},function(a){d=a.default},function(a){e=a.default},function(a){f=a.default},function(a){g=a.default},function(a){h=a.default}],execute:function(){b.$inject=["$routeProvider"],a("default",c.module("extra",["projectX.dataService"]).component("trains",g).component("extra",f).component("hexbin",h).config(b))}}}),System.register("common/styles/index.css!github:systemjs/plugin-css@0.1.23.js",[],function(){return{setters:[],execute:function(){}}}),System.register("components/index/index.js",["common/styles/index.css!"],function(a){"use strict";function b(a){this.dataPackage.resources.forEach(function(b){return a.normalizePackage(b.url,b.data),a.loadPackage(b.url).then(function(c){c.resources.forEach(function(b){b.url&&a.normalizePackage(b.url,b.data)}),b.data=c})})}return{setters:[function(a){}],execute:function(){b.$inject=["dataService"],a("default",{controller:b,templateUrl:"components/index/index.html",datapackageUrl:"components/index/datapackage.json",bindings:{dataPackage:"<package"}})}}}),System.registerDynamic("components/about/about.md!github:guybedford/system-md@0.1.0.js",[],!0,function(a,b,c){return c.exports='<h1 id="aboutproject">About Project χ</h1>\n\n<p>This website was built using the Project χ platform. Project χ (pronounced project kai or /<abbr title="/ˈ/ primary stress follows">ˈ</abbr><abbr title="\'k\' in \'kind\'">k</abbr><abbr title="/iː/ long \'e\' in \'bead\'">iː</abbr>/) is an modular open source visualization gallery framework built by Jayson Harshbarger at the <a href="http://www.yokohama.riken.jp/english/">RIKEN Institute in Yokohama Japan</a>.  It offers a framework and toolset for building self-hosted data-centric visualization websites. Geared towards sharing of supplemental materials associated with scientific publications; Project χ allows visitors to interact with visualizations, download associated data and images, and even try the visualization with their own uploaded or publicly available datasets.  For developers the framework comes packaged with tools necessary for quickly integrating interactive visualizations using <a href="http://d3js.org/">d3.js</a>, <a href="https://angularjs.org/">AngularJS</a>, and <a href="http://biojs.io/">BioJS</a>. Features of the framework include:</p>\n\n<ul>\n<li>Simple,  modular, and customizable design using <a href="https://angularjs.org/">AngularJS</a> templates and <a href="http://getbootstrap.com/">bootstrap</a> CSS framework.</li>\n\n<li>Supports CommonJS, AMD, and ES6 modules using the <a href="https://github.com/systemjs/systemjs">SystemJS</a> Universal dynamic module loader.</li>\n\n<li>Integrate additional visualizations, including <a href="http://biojs.io/">BioJS</a> and <a href="https://github.com/curran/chiasm">Chiasm</a> modules, directly from any registry such as <a href="https://www.npmjs.com">NPM</a> or <a href="https://github.com/">GitHub</a> using <a href="http://jspm.io/">JSPM</a>.</li>\n\n<li>Self-hosted fully client-side application doesn\'t require a server; easily hosted on <a href="https://en.wikipedia.org/wiki/WebDAV">WebDAV</a> or <a href="https://pages.github.com/">GitHub Pages</a>.</li>\n\n<li>Contains AngularJS services and directives for loading, parsing, and downloading data and as well as downloading generated publication quality SVG images.</li>\n</ul>',c.exports}),System.register("components/routes.js",["angular","./fantom5/routes","./examples/routes","./extra/routes","./index/index","./about/about.md!md"],function(a){"use strict";function b(a){a.when("/about",{template:h}).when("/",{template:'<index data-package="$resolve.dataPackage"></index>',datapackageUrl:"components/index/datapackage.json"}).otherwise({redirectTo:"/"})}var c,d,e,f,g,h;return{setters:[function(a){c=a.default},function(a){d=a.default},function(a){e=a.default},function(a){f=a.default},function(a){g=a.default},function(a){h=a.default}],execute:function(){b.$inject=["$routeProvider"],a("default",c.module("routes",["projectX.dataService",d.name,e.name,f.name]).component("index",g).config(b))}}}),System.register("common/components/editor/editor.css!github:systemjs/plugin-css@0.1.23.js",[],function(){return{setters:[],execute:function(){}}}),System.register("common/directives/svg-download-dropdown.js",["angular-downloadsvg-directive"],function(a){"use strict";function b(a,b,c){function d(){var d=c.svgDownloadDropdown?angular.element(document.querySelector(e[1])):b.parent,f=d.find("svg"),g=[];angular.forEach(f,function(a,b){var c=angular.element(a),d=c.attr("id")||"svg-"+b,e=c.attr("title")||d,f={id:d,title:e};c.attr(f),g.push(f)}),a[e[0]]=g}var e=c.svgDownloadDropdown.split(/\sin\s/);d(),b.on("click",function(){a.$apply(function(){d()})})}var c;return{setters:[function(a){}],execute:function(){c=angular.module("svgDownloadDropdown",["hc.downloader"]).directive("svgDownloadDropdown",function(){return{link:b}}),a("default",c.name)}}}),System.register("common/directives/file-drop.js",["angular","common/services/datapackage/mime"],function(a){"use strict";var b,c,d;return{setters:[function(a){b=a.default},function(a){c=a.default}],execute:function(){d=b.module("projectX.fileDrop",[]).directive("fileDropzone",["$window",function(a){return{restrict:"A",scope:{file:"=",fileName:"=",dropped:"&"},link:function(b,d,e){function f(a){return null!==a&&a.preventDefault(),d.addClass("hover"),(a.dataTransfer||a.originalEvent.dataTransfer).effectAllowed="copy",!1}function g(a){return null!==a&&a.preventDefault(),d.removeClass("hover"),!1}function h(b){var c=e.maxFileSize;return void 0===c||""===c||b/1024/1024<e.maxFileSize||(a.alert("File must be smaller than "+e.maxFileSize+" MB"),!1)}function i(b){return void 0===k||""===k||k.indexOf(b)>-1||(a.alert("Invalid file type "+b+".  File must be one of following types "+k),!1)}function j(a){var d=new FileReader;d.onload=function(d){a.content=d.target.result;var e=c.lookup(a.name);if(h(a.size)&&i(e))return b.$apply(function(){b.dropped({file:a})})},d.readAsText(a)}var k=e.fileDropzone;return d.bind("dragover",f),d.bind("dragenter",f),d.bind("dragleave",g),d.bind("drop",function(a){null!==a&&a.preventDefault(),d.removeClass("hover");for(var b=(a.dataTransfer||a.originalEvent.dataTransfer).files,c=0;c<b.length;c++){var e=b[c];j(e)}return!1})}}}]),a("default",d.name)}}}),function(){var a=System.amdDefine,b=b||function(a){"use strict";if(!("undefined"==typeof a||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var b=a.document,c=function(){return a.URL||a.webkitURL||a},d=b.createElementNS("http://www.w3.org/1999/xhtml","a"),e="download"in d,f=function(a){var b=new MouseEvent("click");a.dispatchEvent(b)},g=/constructor/i.test(a.HTMLElement),h=/CriOS\/[\d]+/.test(navigator.userAgent),i=function(b){(a.setImmediate||a.setTimeout)(function(){throw b},0)},j="application/octet-stream",k=4e4,l=function(a){var b=function(){"string"==typeof a?c().revokeObjectURL(a):a.remove()};setTimeout(b,k)},m=function(a,b,c){b=[].concat(b);for(var d=b.length;d--;){var e=a["on"+b[d]];if("function"==typeof e)try{e.call(a,c||a)}catch(a){i(a)}}},n=function(a){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob([String.fromCharCode(65279),a],{type:a.type}):a},o=function(b,i,k){k||(b=n(b));var o,p=this,q=b.type,r=q===j,s=function(){m(p,"writestart progress write writeend".split(" "))},t=function(){if((h||r&&g)&&a.FileReader){var d=new FileReader;return d.onloadend=function(){var b=h?d.result:d.result.replace(/^data:[^;]*;/,"data:attachment/file;"),c=a.open(b,"_blank");c||(a.location.href=b),b=void 0,p.readyState=p.DONE,s()},d.readAsDataURL(b),void(p.readyState=p.INIT)}if(o||(o=c().createObjectURL(b)),r)a.location.href=o;else{var e=a.open(o,"_blank");e||(a.location.href=o)}p.readyState=p.DONE,s(),l(o)};return p.readyState=p.INIT,e?(o=c().createObjectURL(b),void setTimeout(function(){d.href=o,d.download=i,f(d),s(),l(o),p.readyState=p.DONE})):void t()},p=o.prototype,q=function(a,b,c){return new o(a,b||a.name||"download",c)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(a,b,c){return b=b||a.name||"download",c||(a=n(a)),navigator.msSaveOrOpenBlob(a,b)}:(p.abort=function(){},p.readyState=p.INIT=0,p.WRITING=1,p.DONE=2,p.error=p.onwritestart=p.onprogress=p.onwrite=p.onabort=p.onerror=p.onwriteend=null,q)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&module.exports?module.exports.saveAs=b:"undefined"!=typeof a&&null!==a&&null!==a.amd&&a("github:eligrey/FileSaver.js@master/FileSaver.js",[],function(){return b})}(),System.register("common/directives/file-download.js",["angular","FileSaver/FileSaver.js","blobjs/Blob.js"],function(a){"use strict";var b,c,d;return{setters:[function(a){b=a.default},function(a){c=a.default},function(a){}],execute:function(){d=b.module("projectX.fileDownload",[]).directive("fileDownload",function(){return{scope:{file:"=fileDownload"},link:function(a,b){function d(a){var b=a.type||"text/plain",d=b+";charset=utf-8",e=a.name||"download.txt",f=new Blob([a.content],{type:d});c(f,e)}b.bind("click",function(){d(a.file)})}}}),a("default",d.name)}}}),System.register("common/services/datapackage/datapackage.js",["URIjs","./mime"],function(a){"use strict";function b(a,b){return b.base=b.base||d(a).normalizePathname().directory(),b.base=b.base+"/",b.resources?b.resources=b.resources.map(function(a){return c(b.base,a)}):b.resources=[],b.image&&(b.image=d(b.image,b.base).href()),b.readme&&(b.readme=d(b.readme,b.base).href()),b.homepage=b.homepage||b.base,b.description=b.description||"",b}function c(a,b){if("string"==typeof b&&(b={path:b}),b.path){var c=d(b.path);b.format=b.format||c.suffix(),b.name=b.name||c.filename(),b.url=b.url||c.absoluteTo(a).href(),b.mediatype=b.mediatype||e.lookup(b.format)}return b}var d,e;return a("normalizePackage",b),a("normalizeResource",c),{setters:[function(a){d=a.default},function(a){e=a.mime}],execute:function(){}}}),System.register("common/services/datapackage/dataservice.js",["./processors","./datapackage"],function(a){"use strict";function b(a,b){function g(b){return a.get(b).then(function(a){return h(b,a.data)}).catch(function(a){throw new Error("error loading "+b+", "+a)})}function h(a,c){c=e(a,c);var d=c.resources?c.resources.map(j):[];return b.all(d).then(function(){return c.resourcesByName={},c.resources.forEach(function(a){a.name&&!c.resourcesByName[a.name]&&(c.resourcesByName[a.name]=a)}),c})}function i(b){return a(c(b)).catch(function(a){throw new Error("error loading "+b.url+", "+a)})}function j(a){return!a.url||a.content||a.data?b(function(b){return b({data:d(a)})}):i(a)}return{loadPackage:g,reloadResource:i,loadResource:j,_loadPackage:h,processPackage:h,normalize:f,normalizePackage:e,processResource:d}}function c(a){return{method:"GET",url:a.url,cache:!0,transformResponse:function(b,c,e){if(404===e)return a;var f=c("Content-Type");return f&&(a.mediatype=a.mediatype||f.split(";")[0]),a.content=b,d(a)}}}var d,e,f;return a("DataService",b),{setters:[function(a){d=a.processByType},function(a){e=a.normalizePackage,f=a.normalizeResource}],execute:function(){b.$inject=["$http","$q"]}}}),System.register("common/services/datapackage/resolver.js",["angular"],function(a){"use strict";var b;return{setters:[function(a){b=a.default}],execute:function(){a("default",function(a){var c=b.isDefined(a.resolve)&&b.isDefined(a.resolve.dataPackage);return c||(b.isDefined(a.datapackage)?(a.resolve=a.resolve||{},b.extend(a.resolve,{dataPackage:["$route","dataService",function(b,c){var d="function"==typeof a.datapackage?a.datapackage(b.current.params):a.datapackage,e=d.base||a.datapackageUrl;return c.processPackage(e,d)}]})):b.isDefined(a.datapackageUrl)&&(a.resolve=a.resolve||{},b.extend(a.resolve,{dataPackage:["$route","dataService",function(b,c){var d="function"==typeof a.datapackageUrl?a.datapackageUrl(b.current.params):a.datapackageUrl;return c.loadPackage(d)}]}))),a})}}}),System.register("common/services/datapackage/index.js",["angular","./dataservice","./resolver"],function(a){"use strict";var b,c,d,e;return{setters:[function(a){b=a.default},function(a){c=a.DataService},function(a){d=a.default}],execute:function(){e=b.module("projectX.dataService",["ngRoute"]).service("dataService",c).decorator("$route",["$delegate",function(a){return b.forEach(a.routes,d),a}]),a("default",e.name)}}}),System.register("common/components/editor/editor.html!github:systemjs/plugin-text@0.0.8.js",[],function(a,b){"use strict";return{setters:[],execute:function(){a("default",'<div ng-if="$ctrl.enableProtected && $ctrl.panel.open">\n  <alert close="closeAlert = true" type="warning" ng-hide="closeAlert">\n    This is your chance to play with the featured visualization.  No changes you make will be saved.\n  </alert>\n</div>\n\n<section class="datapckage-editor-container hidden-print" style="position: relative">\n\n  <uib-tabset id="dataPackageEditor" ng-show="$ctrl.panel.open" xxng-if="$ctrl.enableOpen || $ctrl.enableProtected">\n    <uib-tab ng-repeat="tab in $ctrl.data.resources track by $index" select="$ctrl.ui.refresh()" active="tab.active">\n      <uib-tab-heading file-dropzone="{{$ctrl.types}}" data-max-file-size="30" dropped="$ctrl.droppedOver($index, file)">\n        {{ $ctrl.data.resources.length < 7 ? tab.name : $index }}\n        <a class="close" ng-click="$ctrl.remove($index)">&nbsp;&times;</a>\n      </uib-tab-heading>\n      <div file-dropzone="{{$ctrl.types}}" data-max-file-size="30" dropped="$ctrl.droppedOver($index, file)">\n        <form class="meta form-inline">\n          <div class="form-group">\n            <label class="sr-only">Filename</label>\n            <div class="input-group">\n              <input type="text" id="label" ng-model="tab.path" placeholder="filename" class="form-control input-sm" ng-change="$ctrl.rename(tab)">\n            </div>\n          </div>\n          <div class="form-group">\n            <label class="sr-only">Media Type</label>\n            <select ng-options="value as value for value in $ctrl.types" ng-model="tab.mediatype"  class="form-control input-sm" ng-change="$ctrl.change(tab)"></select>\n          </div>\n        </form>\n\n        <div>\n          <textarea class="editor" ng-model="tab.content" ui-codemirror ui-codemirror-opts="{\n              lineNumbers: true,\n              lineWrapping: false,\n              mode: file.type,\n              allowDropFileTypes: false,\n              onLoad: $ctrl.ui.codemirrorLoaded\n            }" ng-change="$ctrl.change(tab)" ui-refresh="$ctrl.ui.count"></textarea>\n        </div>\n      </div>\n    </uib-tab>\n    <uib-tab ng-click="$ctrl.newFile(\'new.txt\')" active="true === false" ng-if="$ctrl.enableAdd">\n      <uib-tab-heading file-dropzone="{{$ctrl.types}}" data-max-file-size="3" dropped="$ctrl.dropped(file)">\n        <i class="fa fa-plus-square" aria-hidden="true"></i>\n      </uib-tab-heading>\n    </uib-tab>\n  </uib-tabset>\n\n  <ng-transclude></ng-transclude>\n\n  <div class="btn-toolbar" role="toolbar" aria-label="toolbar">\n\n    <div id="data-download" class="btn-group" uib-dropdown>\n      <button type="button" class="btn btn-primary btn-sm dropdown-toggle" uib-dropdown-toggle aria-expanded="false" ng-if="$ctrl.enableFileDownload">\n        <div class="pull-right">\n          <i class="fa fa-arrow-circle-o-down" aria-hidden="true"></i>\n          Download Data <span class="caret"></span>\n        </div>\n      </button>\n      <ul class="dropdown-menu" role="menu">\n        <li class="dropdown-header">Data Resources</li>\n        <li ng-repeat="file in $ctrl.data.resources">\n          <a class="btn btn-link" file-download="file">{{file.name}}</a>\n        </li>\n      </ul>\n    </div>\n\n    <div id="svg-download" class="btn-group hidden-print" uib-dropdown svg-download-dropdown="svgList in #charts" ng-if="$ctrl.enableSvgDownload || $ctrl.enablePngDownload">\n      <button type="button" class="btn btn-primary btn-sm dropdown-toggle" uib-dropdown-toggle aria-expanded="false">\n        <div class="pull-right">\n          <i class="fa fa-picture-o" aria-hidden="true"></i>\n          Download SVG <span class="caret"></span>\n        </div>\n      </button>\n      <ul class="dropdown-menu" role="menu">\n        <li ng-repeat-start="svg in svgList" ng-show="$ctrl.enableSvgDownload">\n          <a href svg-download="#{{svg.id}}" title="{{svg.title}}">{{svg.title}} as SVG</a>\n        </li>\n        <li ng-repeat-end ng-show="$ctrl.canDownloadPng">\n          <a href svg-download="#{{svg.id}}" title="{{svg.title}}" type="png">{{svg.title}} as PNG</a>\n        </li>\n      </ul>\n    </div>\n\n    <div class="btn-group pull-right panel-toggle">\n\n      <button type="button" class="btn btn-primary btn-sm" ng-click="$ctrl.play()" ng-if="$ctrl.enableProtected" >\n        Try your own data\n      </button>\n\n      <button id="data-drop" type="button" class="btn btn-primary btn-sm" ng-if="$ctrl.enableDrop" file-dropzone="{{$ctrl.types}}" data-max-file-size="30" dropped="$ctrl.droppedOver($ctrl.data.resources.length - 1, file)">\n        Drop your own data here\n      </button>\n\n      <button type="button" class="btn btn-link btn-sm" tooltip="Show/hide resources panel" ng-if="$ctrl.enableOpen" ng-click="$ctrl.tooglePanel()">\n        <i class="fa fa-cog" aria-hidden="true"></i>\n      </button>\n\n    </div>\n  </div>\n</section>\n')}}}),System.register("common/services/datapackage/mime.js",["mime-lookup"],function(a){"use strict";var b,c,d;return{setters:[function(a){b=a.default}],execute:function(){c={"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/yaml":{extensions:["yaml","yml"]},"text/matrix":{source:"custom",extensions:["matrix","expression","osc"]},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]}},a("MimeDb",c),d=new b(c),a("mime",d),a("default",d)}}}),System.register("common/services/datapackage/matrix-parse.js",["npm:babel-runtime@5.8.38/core-js/object/assign.js","npm:babel-runtime@5.8.38/core-js/object/get-own-property-names.js","npm:babel-runtime@5.8.38/core-js/object/freeze.js","babyparse"],function(a){function b(a,b){b=e({delimiter:"\t",fastMode:!1,skipEmptyLines:!0,comments:"#"},b);var d=h.parse(a,b);return d.data=c(d.data),d}function c(a){a=a.slice();var b=a.splice(0,1)[0].slice(1),c=a.map(function(a){return a.splice(0,1)[0]});return d({columns:b,rows:c,table:a})}function d(a){var b=f(a);return b.forEach(function(b){var c=a[b];"object"==typeof c&&null!==c&&d(c)}),g(a)}var e,f,g,h;return{setters:[function(a){e=a.default},function(a){f=a.default},function(a){g=a.default},function(a){h=a.default}],execute:function(){"use strict";a("parse",b),a("convertToPlainMatrix",c),a("default",{parse:b})}}}),System.register("common/services/datapackage/processors.js",["npm:babel-runtime@5.8.38/core-js/object/assign.js","babyparse","yaml","crlf-helper","./matrix-parse"],function(a){function b(a,b){var c=f.parse(a.content,b);e(a,c),a.table=!0}function c(a){return"string"==typeof a?JSON.parse(a):a}function d(a,b){var c=k[b||a.mediatype];return c&&c.translate&&c.translate(a),a.isDirty=!1,a}var e,f,g,h,i,j,k;return{setters:[function(a){e=a.default},function(a){f=a.default},function(a){g=a.default},function(a){h=a.setLineEnding},function(a){i=a.default}],execute:function(){"use strict";j=function(a){return h(a,"LF")},k={"text/tab-separated-values":{translate:function(a){b(a,{header:!0,delimiter:"\t",skipEmptyLines:!0})}},"text/csv":{translate:function(a){b(a,{header:!0,delimiter:",",skipEmptyLines:!0})}},"text/plain":{translate:function(a){a.content=j(a.content)}},"text/yaml":{translate:function(a){a.data=g.eval(a.content)}},"text/matrix":{translate:function(a){e(a,i.parse(a.content))}},"application/json":{translate:function(a){a.data=c(a.content),a.data.url&&a.data.url.indexOf("api.github.com")>-1&&(a.data.name=a.data.owner.login+"/"+a.data.id,a.path="gists/"+a.data.id)}}},a("processors",k),a("processByType",d)}}}),System.register("common/components/editor/editor-controller.js",["npm:babel-runtime@5.8.38/core-js/object/assign.js","npm:babel-runtime@5.8.38/core-js/object/keys.js","common/services/datapackage/mime","common/services/datapackage/processors"],function(a){function b(a,b,g){function h(a,b){var c={path:b.name||"file",name:b.name||"file",mediatype:e.lookup(b.name),content:b.content||"",active:!0};t.data.resources.splice(a,1,c),k(c),t.ui.refresh()}function i(a){g.processResource(a)}function j(){t.data&&t.data.readme&&(t.data.readme=null),p()}function k(a){i(a),t.onChange()}function l(a){a>-1&&(t.data.resources.splice(a,1),t.onChange())}function m(a){a.path&&(a.name=a.path,a.mediatype=e.lookup(a.path),k(a))}function n(a){a=a||"new.txt";var c={name:a,path:a,mediatype:e.lookup(a),content:""};c.active=!0;var d=t.data.resources.push(c);return t.data.resources[d-1].active=!0,k(c),b(t.ui.refresh,100),!1}function o(a){var b={path:a.name,mediatype:e.lookup(a.name),content:a.content||""};b.active=!0,t.data.resources.push(b),k(b),t.ui.refresh()}function p(){t.panel.open=!t.panel.open,t.ui.refresh(),b(t.ui.refresh,100)}var q=Boolean(this.options)&&Boolean(this.options.data),r=/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),s="undefined"!=typeof window.navigator.msSaveBlob,t=c(this,{panel:{open:!1},change:k,remove:l,rename:m,newFile:n,dropped:o,tooglePanel:p,play:j,droppedOver:h,ui:{refresh:function(){t.ui.count++},count:0,codemirrorLoaded:function(a){b(function(){a.refresh(),t.ui.refresh()},100)}},onChange:function(){},enableOpen:q,enableFileDownload:q&&this.options.data.resources.length>0,enableSvgDownload:!0,enablePngDownload:!r&&!s,enableAdd:!0,enableDrop:!1,enableProtected:!1,types:d(f)},this.options);t.enableFileDownload&&(t.data.resources[0].active=!0)}var c,d,e,f;return{setters:[function(a){c=a.default},function(a){d=a.default},function(a){e=a.default},function(a){f=a.processors}],execute:function(){"use strict";a("default",b),b.$inject=["$cookies","$timeout","dataService"]}}}),System.register("common/components/editor/editor.js",["angular","ui-codemirror","codemirror/lib/codemirror","codemirror/lib/codemirror.css!","./editor.css!","common/directives/svg-download-dropdown","common/directives/file-drop","common/directives/file-download","common/services/datapackage/index","./editor.html!text","./editor-controller"],function(a){"use strict";var b,c,d,e,f,g,h,i;return{setters:[function(a){b=a.default},function(a){},function(a){},function(a){},function(a){},function(a){c=a.default},function(a){d=a.default},function(a){e=a.default},function(a){f=a.default},function(a){g=a.default},function(a){h=a.default}],execute:function(){i=b.module("projectX.dataEditor",["ui.codemirror",f,c,d,e]).directive("datapackageEdit",function(){return{restrict:"A",scope:{},bindToController:{options:"=datapackageEdit"},controller:h,controllerAs:"$ctrl",transclude:!0,template:g}}).component("packageEditor",{template:g,controller:h,transclude:!0,bindings:{options:"="}}),a("default",i.name)}}}),System.register("common/services/loading-bar/loading-bar.css!github:systemjs/plugin-css@0.1.23.js",[],function(){return{setters:[],execute:function(){}}}),System.register("common/services/loading-bar/loading-bar.html!github:systemjs/plugin-text@0.0.8.js",[],function(a,b){"use strict";return{setters:[],execute:function(){a("default",'<div id="loading-bar-spinner" class="text-center">\n  <div class="spinner-box">\n    <div class="spinner-icon"></div>\n  </div>\n</div>\n')}}}),System.register("common/services/loading-bar/loading-bar.js",["angular","angular-loading-bar","angular-loading-bar/build/loading-bar.css!","./loading-bar.css!","./loading-bar.html!text"],function(a){"use strict";var b,c,d;return{setters:[function(a){b=a.default},function(a){},function(a){},function(a){},function(a){c=a.default}],execute:function(){d=b.module("projectX.loading-bar",["angular-loading-bar"]).config(["cfpLoadingBarProvider",function(a){a.latencyThreshold=32,a.spinnerTemplate=c}]).run(["$rootScope","cfpLoadingBar",function(a,b){a.$on("$routeChangeStart",function(){b.start()}),a.$on("$routeChangeError",function(){b.complete()}),a.$on("$routeChangeSuccess",function(){b.complete()})}]),a("default",d.name)}}}),System.register("common/services/dynamic-title/dynamic-title.js",["angular"],function(a){"use strict";function b(a,b){a.$on("$routeChangeSuccess",function(a,c){return b.fromState(c)})}function c(){function a(a,c){function d(d){d=d||b.defaultTitle,c.debug("title set to",d),a[0].title=d}return{set:d,fromState:function(a){var b=null;a.$$route&&a.$$route.title&&(b="function"==typeof a.$$route.title?a.$$route.title(a.params):a.$$route.title),d(b)}}}var b={defaultTitle:document.title||"Project-χ"};this.configure=function(a){d.extend(b,a)},this.$get=a,a.$inject=["$document","$log"]}var d,e;return{setters:[function(a){d=a.default}],execute:function(){e=d.module(name,[]).provider("dynamicTitle",c).run(b),a("default",e.name),b.$inject=["$rootScope","dynamicTitle"],c.$inject=[]}}}),System.register("common/services/growl/growl.js",["angular-growl/build/angular-growl.js","angular-growl/build/angular-growl.css!","angular"],function(a){"use strict";function b(a,b,c){a.$on("$routeChangeError",function(a,b,d,e){return"string"!=typeof e&&(e=e.status&&e.statusText?e.status+" "+e.statusText:e.message?e.message:String(e)),c.error("failed to change routes; "+e)})}var c,d;return{setters:[function(a){},function(a){},function(a){c=a.default}],execute:function(){d=c.module("projectX.growl",["angular-growl"]).run(b),a("default",d.name),b.$inject=["$rootScope","$location","growl"]}}}),System.register("common/directives/resize.js",["angular"],function(a){"use strict";function b(a,b){return{scope:{onResize:"&"},link:function(d){function e(){g&&b.cancel(g),g=b(function(){d.onResize()},500)}function f(){d.onResize()}var g=null;c.element(a).on("resize",e),"matchMedia"in window&&window.matchMedia("print").addListener(f),d.$on("$destroy",function(){c.element(a).off("resize",e),"matchMedia"in window&&window.matchMedia("print").removeListener(f)})}}}var c,d;return{setters:[function(a){c=a.default}],execute:function(){d=c.module("projectX.onResize",[]).directive("onResize",b),a("default",d.name),b.$inject=["$window","$timeout"]}}}),System.register("common/directives/active-path.js",["angular"],function(a){"use strict";function b(a,b){return{link:function(a,c,d){var e=new RegExp(d.activePath);a.$watch(function(){return b.path()},function(a){e.test(a)?c.addClass("active"):c.removeClass("active")})}}}var c,d;return{setters:[function(a){c=a.default}],execute:function(){d=c.module("projectX.activePath",[]).directive("activePath",b),a("default",d.name),b.$inject=["$log","$location"]}}}),System.register("common/common.js",["angular","common/services/datapackage/index","common/components/editor/editor","common/services/loading-bar/loading-bar","common/services/dynamic-title/dynamic-title","common/services/growl/growl","common/directives/resize","common/directives/active-path"],function(a){"use strict";var b,c,d,e,f,g,h,i,j;return{setters:[function(a){b=a.default},function(a){c=a.default},function(a){d=a.default},function(a){e=a.default},function(a){f=a.default},function(a){g=a.default},function(a){h=a.default},function(a){i=a.default}],execute:function(){j=b.module("projectX.common",[c,d,h,e,f,g,i]),a("default",j.name)}}}),System.register("common/partials/footer.html!github:systemjs/plugin-text@0.0.8.js",[],function(a,b){"use strict";return{setters:[],execute:function(){a("default",'<div class="container">\n\t<p>Website designed and built at RIKEN, Japan.</p>\n\t<p>Project-χ code licensed under MIT</p>\n\t<p>Currently 1.0.0-rc.2\n\t\t// <a href="https://github.com/Hypercubed/Project-chi">GitHub</a>\n\t\t// <a ng-href="#/about">About</a>\n\t\t// <a href="https://github.com/Hypercubed/Project-Chi/issues">Issues</a></p>\n</div>\n')}}}),System.register("common/partials/header.html!github:systemjs/plugin-text@0.0.8.js",[],function(a,b){"use strict";return{setters:[],execute:function(){a("default",'<div class="header">\n\t<div class="navbar navbar-default" role="navigation">\n\t\t<div class="container">\n\t\t\t<div class="navbar-header">\n\n\t\t\t\t<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#js-navbar-collapse">\n\t\t\t\t\t<span class="sr-only">Toggle navigation</span>\n\t\t\t\t\t<span class="icon-bar"></span>\n\t\t\t\t\t<span class="icon-bar"></span>\n\t\t\t\t\t<span class="icon-bar"></span>\n\t\t\t\t</button>\n\n\t\t\t\t<a class="navbar-brand" href="#/">Project-χ</a>\n\t\t\t</div>\n\n\t\t\t<div class="collapse navbar-collapse pull-right" id="js-navbar-collapse">\n\t\t\t\t<ul class="nav navbar-nav">\n\t\t\t\t\t<li active-path="/about"><a ng-href="#/about">About</a></li>\n\t\t\t\t\t<li><a href="//github.com/Hypercubed/Project-Chi/issues">Contact</a></li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n')}}}),System.register("components/app.component.js",["common/partials/footer.html!text","common/partials/header.html!text"],function(a){"use strict";var b,c,d;return{setters:[function(a){b=a.default},function(a){c=a.default}],execute:function(){d={template:'\n    <div class="header">\n      '+c+'\n    </div>\n\n    <div class="container">\n      <div ng-view autoscroll class="ng-fade"></div>\n    </div>\n\n    <div class="footer">\n      '+b+"\n    </div>\n\n    <div growl></div>"},a("default",d)}}}),System.register("components/app.js",["./app.css!","angular","angular-route","angular-animate","angular-cookies","angular-sanitize","angular-touch","angular-ui-bootstrap","angular-marked","components/routes","common/common","./app.component"],function(a){
"use strict";var b,c,d,e,f;return{setters:[function(a){},function(a){b=a.default},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){c=a.default},function(a){d=a.default},function(a){e=a.default},function(a){f=a.default}],execute:function(){a("default",b.module("projectX",["ngRoute","ngAnimate","ngCookies","ngSanitize","ngTouch","ui.bootstrap",c,d.name||d,e]).component("app",f).config(["$logProvider","$compileProvider",function(a,b){a.debugEnabled(!System.production),b.debugInfoEnabled(!System.production)}]))}}}),System.register("components/boot.js",["webcomponentsjs/webcomponents-lite.js","bootstrap/css/bootstrap.css!","font-awesome/css/font-awesome.css!","angular","./app"],function(a){"use strict";var b,c;return{setters:[function(a){},function(a){},function(a){},function(a){b=a.default},function(a){c=a.default}],execute:function(){b.element(document).ready(function(){b.bootstrap(document.body,[c.name],{strictDi:!0})})}}}),System.register("components/app.css!github:systemjs/plugin-css@0.1.23.js",[],!1,function(){}),System.register("components/fantom5/Lizio_et_al_2015/timeCourse.css!github:systemjs/plugin-css@0.1.23.js",[],!1,function(){}),System.register("components/fantom5/Motakis_et_al_2013/scatter.css!github:systemjs/plugin-css@0.1.23.js",[],!1,function(){}),System.register("components/fantom5/Forrest_et_al_2014/venn.css!github:systemjs/plugin-css@0.1.23.js",[],!1,function(){}),System.register("common/services/grid/grid.css!github:systemjs/plugin-css@0.1.23.js",[],!1,function(){}),System.register("common/services/facets/facet.css!github:systemjs/plugin-css@0.1.23.js",[],!1,function(){}),System.register("components/examples/chiasm/chiasm.css!github:systemjs/plugin-css@0.1.23.js",[],!1,function(){}),System.register("components/examples/biojs/biojs.css!github:systemjs/plugin-css@0.1.23.js",[],!1,function(){}),System.register("components/examples/treemap/treemap.css!github:systemjs/plugin-css@0.1.23.js",[],!1,function(){}),System.register("components/examples/bars/bars.css!github:systemjs/plugin-css@0.1.23.js",[],!1,function(){}),System.register("components/examples/universe/universe.css!github:systemjs/plugin-css@0.1.23.js",[],!1,function(){}),System.register("components/extra/trains/trains.css!github:systemjs/plugin-css@0.1.23.js",[],!1,function(){}),System.register("common/styles/index.css!github:systemjs/plugin-css@0.1.23.js",[],!1,function(){}),System.register("common/components/editor/editor.css!github:systemjs/plugin-css@0.1.23.js",[],!1,function(){}),System.register("common/services/loading-bar/loading-bar.css!github:systemjs/plugin-css@0.1.23.js",[],!1,function(){});
//# sourceMappingURL=app.js.map